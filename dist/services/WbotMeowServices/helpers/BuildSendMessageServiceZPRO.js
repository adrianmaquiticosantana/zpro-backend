'use strict';
const _0x15708b = _0x443f;
(function (_0x37b439, _0x812974) {
    const _0x14f9cb = _0x443f, _0x38212f = _0x37b439();
    while (!![]) {
        try {
            const _0x2865a9 = -parseInt(_0x14f9cb(0x175)) / (0x1d * -0x91 + 0x12ac + -0x23e) * (parseInt(_0x14f9cb(0x193)) / (0x7f * -0x37 + -0x1675 + 0x638 * 0x8)) + parseInt(_0x14f9cb(0x176)) / (-0x66 * 0x4c + 0x1 * 0x7c3 + -0x5a2 * -0x4) + -parseInt(_0x14f9cb(0x104)) / (0x117e * 0x1 + 0x16ae + -0x2828) * (-parseInt(_0x14f9cb(0x1a5)) / (-0x756 + -0x741 + 0x154 * 0xb)) + -parseInt(_0x14f9cb(0x164)) / (0x2f5 * 0x9 + -0x10c * -0x1 + -0x1ba3) * (-parseInt(_0x14f9cb(0xbe)) / (-0x1f88 + -0x249 + -0x8 * -0x43b)) + parseInt(_0x14f9cb(0xf1)) / (0x1267 * -0x1 + -0x1be1 + -0xc * -0x3dc) * (parseInt(_0x14f9cb(0xea)) / (0x6d1 * -0x5 + -0x26e9 + 0x4907)) + parseInt(_0x14f9cb(0xc4)) / (0x810 + 0x1b15 + -0x231b) + parseInt(_0x14f9cb(0x1c5)) / (-0x2165 + -0xffd + -0x316d * -0x1) * (-parseInt(_0x14f9cb(0x119)) / (-0xe71 + 0x9 * 0x405 + -0x4 * 0x56c));
            if (_0x2865a9 === _0x812974)
                break;
            else
                _0x38212f['push'](_0x38212f['shift']());
        } catch (_0x458498) {
            _0x38212f['push'](_0x38212f['shift']());
        }
    }
}(_0x26e2, 0x5b4df + 0x2d271 * -0x3 + 0x823b6));
var __awaiter = this && this[_0x15708b(0x172)] || function (_0x3cd93d, _0x4779cc, _0xae1a94, _0x17cf47) {
        const _0x4a683a = _0x15708b, _0x1e4ad3 = {
                'bfzSA': function (_0x4ea414, _0x30302a) {
                    return _0x4ea414(_0x30302a);
                },
                'GobUm': function (_0x5c7cb3, _0x1472ec) {
                    return _0x5c7cb3 instanceof _0x1472ec;
                },
                'JqoAc': function (_0x2b710f, _0x38b9d8) {
                    return _0x2b710f(_0x38b9d8);
                },
                'gJedv': _0x4a683a(0x118),
                'XeuQU': function (_0x5f14d0, _0x4b0690) {
                    return _0x5f14d0(_0x4b0690);
                }
            };
        function _0x3939d9(_0x383289) {
            const _0x43b374 = _0x4a683a;
            return _0x1e4ad3[_0x43b374(0x1c1)](_0x383289, _0xae1a94) ? _0x383289 : new _0xae1a94(function (_0x36f218) {
                const _0x55d92d = _0x43b374;
                _0x1e4ad3[_0x55d92d(0x148)](_0x36f218, _0x383289);
            });
        }
        return new (_0xae1a94 || (_0xae1a94 = Promise))(function (_0x433bb7, _0x4f7436) {
            const _0x98f085 = _0x4a683a, _0x229a02 = {
                    'oCVdf': function (_0x48ef50, _0x539d12) {
                        const _0x570dcc = _0x443f;
                        return _0x1e4ad3[_0x570dcc(0x148)](_0x48ef50, _0x539d12);
                    },
                    'Ertby': function (_0x258ce8, _0x4b70c2) {
                        const _0x331411 = _0x443f;
                        return _0x1e4ad3[_0x331411(0xce)](_0x258ce8, _0x4b70c2);
                    },
                    'VQyqM': function (_0x4d9d30, _0x5aac15) {
                        const _0x16e0fa = _0x443f;
                        return _0x1e4ad3[_0x16e0fa(0xce)](_0x4d9d30, _0x5aac15);
                    },
                    'zXCMX': _0x1e4ad3[_0x98f085(0x1d7)],
                    'ccLDU': function (_0x415e65, _0x40ce8b) {
                        const _0x1f25ee = _0x98f085;
                        return _0x1e4ad3[_0x1f25ee(0x148)](_0x415e65, _0x40ce8b);
                    }
                };
            function _0x14964a(_0x3cbfc3) {
                const _0x28a639 = _0x98f085;
                try {
                    _0x229a02[_0x28a639(0xdb)](_0x54e0ef, _0x17cf47[_0x28a639(0x125)](_0x3cbfc3));
                } catch (_0x231f38) {
                    _0x229a02[_0x28a639(0x129)](_0x4f7436, _0x231f38);
                }
            }
            function _0x203189(_0x44b21c) {
                const _0x3ec2a4 = _0x98f085;
                try {
                    _0x229a02[_0x3ec2a4(0x1d1)](_0x54e0ef, _0x17cf47[_0x229a02[_0x3ec2a4(0x1c0)]](_0x44b21c));
                } catch (_0x1034c8) {
                    _0x229a02[_0x3ec2a4(0x117)](_0x4f7436, _0x1034c8);
                }
            }
            function _0x54e0ef(_0xc8aac8) {
                const _0x566923 = _0x98f085;
                _0xc8aac8[_0x566923(0x1ac)] ? _0x1e4ad3[_0x566923(0x148)](_0x433bb7, _0xc8aac8[_0x566923(0x1c2)]) : _0x1e4ad3[_0x566923(0x148)](_0x3939d9, _0xc8aac8[_0x566923(0x1c2)])[_0x566923(0x103)](_0x14964a, _0x203189);
            }
            _0x1e4ad3[_0x98f085(0x15a)](_0x54e0ef, (_0x17cf47 = _0x17cf47[_0x98f085(0xbc)](_0x3cd93d, _0x4779cc || []))[_0x98f085(0x125)]());
        });
    }, __importDefault = this && this[_0x15708b(0x17e) + _0x15708b(0x12b)] || function (_0x317ed2) {
        const _0x12eedf = _0x15708b;
        return _0x317ed2 && _0x317ed2[_0x12eedf(0x1ab)] ? _0x317ed2 : { 'default': _0x317ed2 };
    };
const _0x4115a5 = {};
_0x4115a5[_0x15708b(0x1c2)] = !![], Object[_0x15708b(0x13f) + _0x15708b(0x18d)](exports, _0x15708b(0x1ab), _0x4115a5);
const _9gx0at0h_zpro_1 = require(_0x15708b(0x162) + _0x15708b(0x19f) + _0x15708b(0x1d3) + _0x15708b(0xe5)), tvbp8dlkc2o_zpro_1 = require(_0x15708b(0xf3) + _0x15708b(0x196) + _0x15708b(0x197) + _0x15708b(0x19c)), TicketZPRO_1 = __importDefault(require(_0x15708b(0x187) + _0x15708b(0x18c) + _0x15708b(0x1bf))), _6gb8ypf_zpro_1 = __importDefault(require(_0x15708b(0xed) + _0x15708b(0x144) + _0x15708b(0x1ae) + _0x15708b(0x190))), UpdateContactTagsBotServiceZPRO_1 = __importDefault(require(_0x15708b(0x141) + _0x15708b(0x121) + _0x15708b(0xe9) + _0x15708b(0x12a) + _0x15708b(0x15e) + _0x15708b(0x1a2))), axios_1 = __importDefault(require(_0x15708b(0xc5))), ShowTicketServiceZPRO_1 = __importDefault(require(_0x15708b(0x1d6) + _0x15708b(0x174) + _0x15708b(0x132) + _0x15708b(0xe4) + 'RO')), VerifyStepsChatFlowTicketZPRO_1 = __importDefault(require(_0x15708b(0x156) + _0x15708b(0x149) + _0x15708b(0x1a7) + 'O')), ContactZPRO_1 = __importDefault(require(_0x15708b(0x187) + _0x15708b(0x13b) + _0x15708b(0x10b))), HandleMessageTypebotZPRO_1 = __importDefault(require(_0x15708b(0xdf) + _0x15708b(0x122) + _0x15708b(0x181))), HandleMessageChatGptZPRO_1 = __importDefault(require(_0x15708b(0xdf) + _0x15708b(0xd7) + _0x15708b(0xfd))), fs_1 = __importDefault(require('fs')), path_1 = __importDefault(require(_0x15708b(0x1b4))), mime_types_1 = __importDefault(require(_0x15708b(0x128))), SendMediaMessageServiceZPRO_1 = require(_0x15708b(0x109) + _0x15708b(0x17b) + _0x15708b(0x11e)), SendTextMessageServiceZPRO_1 = require(_0x15708b(0x1cf) + _0x15708b(0x1d8) + _0x15708b(0x1b7)), WhatsappZPRO_1 = __importDefault(require(_0x15708b(0x187) + _0x15708b(0x13d) + _0x15708b(0x1b8)));
function prepareMedia(_0x456454, _0x574fbe, _0x36d4fd) {
    const _0x122362 = _0x15708b, _0x8a0181 = {};
    _0x8a0181[_0x122362(0xc0)] = _0x122362(0x19b), _0x8a0181[_0x122362(0x13e)] = function (_0x1f4531, _0x1a4482) {
        return _0x1f4531 !== _0x1a4482;
    }, _0x8a0181[_0x122362(0x102)] = _0x122362(0x130), _0x8a0181[_0x122362(0x1a1)] = _0x122362(0xdc), _0x8a0181[_0x122362(0x153)] = _0x122362(0xcb);
    const _0x4b461f = _0x8a0181, _0x2e777e = path_1[_0x122362(0x1b9)][_0x122362(0x1d4)](__dirname, '..', '..', '..', '..', _0x4b461f[_0x122362(0xc0)], _0x36d4fd), _0x13335d = path_1[_0x122362(0x1b9)][_0x122362(0x1d4)](_0x2e777e, _0x456454);
    if (!fs_1[_0x122362(0x1b9)][_0x122362(0x101)](_0x13335d))
        throw new Error(_0x122362(0xbd) + _0x122362(0x10a) + _0x13335d);
    const _0x4546df = mime_types_1[_0x122362(0x1b9)][_0x122362(0x1af)](_0x13335d);
    if (_0x4b461f[_0x122362(0x13e)](typeof _0x4546df, _0x4b461f[_0x122362(0x102)]))
        throw new Error(_0x122362(0x110) + _0x122362(0x1a9) + _0x4546df);
    const _0x103c08 = _0x4546df[_0x122362(0x138)]('/')[0x701 + -0xce5 + 0x5e4], _0x342d46 = {
            'fieldname': _0x4b461f[_0x122362(0x1a1)],
            'originalname': _0x456454,
            'encoding': _0x4b461f[_0x122362(0x153)],
            'mimetype': _0x4546df,
            'destination': _0x574fbe + _0x122362(0x145) + _0x36d4fd,
            'filename': _0x456454,
            'path': _0x13335d,
            'size': fs_1[_0x122362(0x1b9)][_0x122362(0x1d9)](_0x13335d)[_0x122362(0x111)]
        }, _0x356695 = Object[_0x122362(0x139)](Object[_0x122362(0x139)]({}, _0x342d46), {
            'buffer': Buffer[_0x122362(0x135)](0x2 * -0x29c + -0x179f + 0x3 * 0x99d),
            'stream': fs_1[_0x122362(0x1b9)][_0x122362(0x1ca) + _0x122362(0xc3)](_0x342d46[_0x122362(0x1b4)])
        });
    return _0x356695;
}
const BuildSendMessageService = ({
    wbot: _0x4823d8,
    wbotMessage: _0x145524,
    msg: _0x2b5696,
    tenantId: _0x12ee2b,
    ticket: _0x3d8d4c,
    userId: _0x4a5e6f
}) => __awaiter(void (0x830 * -0x1 + -0xe05 + 0x1635), void (0xb2e + 0x62b + -0x1159), void (0xf * -0x1ab + -0x19b5 + 0x32ba), function* () {
    const _0x296acc = _0x15708b, _0x335ebf = {
            'xwZjG': function (_0x2a1533, _0x15748e) {
                return _0x2a1533(_0x15748e);
            },
            'JfQER': function (_0x3fe2ad, _0x1dfed0, _0x2928ce, _0x301d79, _0x49fd67) {
                return _0x3fe2ad(_0x1dfed0, _0x2928ce, _0x301d79, _0x49fd67);
            },
            'gHAWh': _0x296acc(0x158),
            'notic': _0x296acc(0x182),
            'fMYUR': _0x296acc(0x14d),
            'GSQND': _0x296acc(0x16f),
            'XeVoR': _0x296acc(0x137),
            'fGjsT': function (_0x3cc603, _0x4364f3) {
                return _0x3cc603 === _0x4364f3;
            },
            'mHzFm': _0x296acc(0x163) + 'ld',
            'GqkRj': _0x296acc(0x1d2) + _0x296acc(0x1b0),
            'ryryU': _0x296acc(0x126),
            'eecCG': _0x296acc(0x146),
            'mBPLo': _0x296acc(0xcd) + _0x296acc(0x1c6) + _0x296acc(0xe6) + _0x296acc(0xec) + _0x296acc(0x1b2),
            'srsPX': function (_0x2d299b, _0x1ab2f6) {
                return _0x2d299b === _0x1ab2f6;
            },
            'Henmi': _0x296acc(0x14a) + 'ld',
            'czaAF': _0x296acc(0xde) + _0x296acc(0x16b),
            'RKjyi': _0x296acc(0x10e),
            'hKkBz': _0x296acc(0x17a) + 'ld',
            'gTonI': function (_0x24fa0d, _0x463529) {
                return _0x24fa0d === _0x463529;
            },
            'TeCuP': function (_0x33115d, _0xfece7a) {
                return _0x33115d === _0xfece7a;
            },
            'ksHQP': function (_0x59a906, _0x14804e) {
                return _0x59a906 === _0x14804e;
            },
            'iaois': function (_0x2b15f9, _0x4b74bc) {
                return _0x2b15f9 === _0x4b74bc;
            },
            'thSTp': function (_0x471226, _0x5e3c3d) {
                return _0x471226 === _0x5e3c3d;
            },
            'OqgkV': function (_0x3c0457, _0x401114) {
                return _0x3c0457 === _0x401114;
            },
            'gJiDb': function (_0x295b26, _0x4ea5d9) {
                return _0x295b26 === _0x4ea5d9;
            },
            'JumEg': function (_0x54eba2, _0x2f0998) {
                return _0x54eba2 === _0x2f0998;
            },
            'eUKAL': function (_0x59a795, _0x262094) {
                return _0x59a795 === _0x262094;
            },
            'edinh': function (_0x32c098, _0x18fc81) {
                return _0x32c098 === _0x18fc81;
            },
            'jLIOy': function (_0x191682, _0x5eb1f6) {
                return _0x191682 === _0x5eb1f6;
            },
            'vKGui': function (_0x41e0fc, _0x5c0ac7) {
                return _0x41e0fc === _0x5c0ac7;
            },
            'jzftt': function (_0x5bf7ed, _0x23b9b7) {
                return _0x5bf7ed === _0x23b9b7;
            },
            'Hhmin': function (_0x6be32e, _0x1c07b1) {
                return _0x6be32e === _0x1c07b1;
            },
            'CTkwP': function (_0x58906e, _0x2bca49) {
                return _0x58906e === _0x2bca49;
            },
            'laPqJ': function (_0x32126a, _0x13a530) {
                return _0x32126a === _0x13a530;
            },
            'VfFFd': function (_0x2ec7d2, _0x1e8f72) {
                return _0x2ec7d2 === _0x1e8f72;
            },
            'fLRHo': function (_0x30d9c0, _0x46bb43) {
                return _0x30d9c0 === _0x46bb43;
            },
            'mTMrM': function (_0x2497ea, _0x3523fc) {
                return _0x2497ea === _0x3523fc;
            },
            'tYEXP': function (_0x500e76, _0x5813e2) {
                return _0x500e76 === _0x5813e2;
            },
            'gECPO': function (_0x43ad05, _0x433035) {
                return _0x43ad05 === _0x433035;
            },
            'gAEjf': _0x296acc(0x130),
            'SUiqG': function (_0x31e77a, _0xae8bd5) {
                return _0x31e77a === _0xae8bd5;
            },
            'abAZZ': _0x296acc(0x1c9),
            'nZOQx': _0x296acc(0x199) + 'd',
            'ueTws': function (_0x54057f, _0x418625) {
                return _0x54057f === _0x418625;
            },
            'CPzqL': _0x296acc(0xcc),
            'fpQak': _0x296acc(0xdd) + _0x296acc(0x12e) + 'do',
            'ivKRV': function (_0x8cc7c2, _0x3129a4) {
                return _0x8cc7c2(_0x3129a4);
            },
            'KlZFz': _0x296acc(0x1a3),
            'mBYHg': function (_0x4a873c, _0x2b409e) {
                return _0x4a873c * _0x2b409e;
            },
            'PgYuJ': function (_0x330ada) {
                return _0x330ada();
            },
            'bnkEg': function (_0x3127d0, _0x3c3758) {
                return _0x3127d0 === _0x3c3758;
            },
            'HHjFD': _0x296acc(0x17f),
            'KBaUG': function (_0x5d2e53, _0x50d534) {
                return _0x5d2e53 - _0x50d534;
            },
            'sqXFQ': function (_0x25e79b, _0x152128, _0x324d1e, _0x29c7ac) {
                return _0x25e79b(_0x152128, _0x324d1e, _0x29c7ac);
            },
            'BplBi': _0x296acc(0x113),
            'TFMXy': function (_0x426fa7, _0x5567bc) {
                return _0x426fa7 + _0x5567bc;
            },
            'JpmQr': _0x296acc(0xcd) + _0x296acc(0x1c6) + _0x296acc(0xc6) + _0x296acc(0x1c7) + '\x20',
            'ypuqr': function (_0x8e9ede, _0x12822c) {
                return _0x8e9ede !== _0x12822c;
            },
            'SgBXp': function (_0x4d6ce1, _0x44fb93) {
                return _0x4d6ce1 !== _0x44fb93;
            },
            'ImqmW': function (_0x205275, _0xeb3b2b) {
                return _0x205275 !== _0xeb3b2b;
            },
            'mqvmr': function (_0x14f10f, _0x184fcd) {
                return _0x14f10f !== _0x184fcd;
            },
            'guxzd': function (_0x526ce7, _0x569a9e) {
                return _0x526ce7 !== _0x569a9e;
            },
            'UzEpl': function (_0x4a14ab, _0x4abd06) {
                return _0x4a14ab === _0x4abd06;
            },
            'lHIIK': function (_0x16f2d3, _0x4bdb13) {
                return _0x16f2d3 === _0x4bdb13;
            },
            'Uogtv': function (_0x46e1df, _0x2b5539) {
                return _0x46e1df === _0x2b5539;
            },
            'haNJM': function (_0x4b97a8, _0x46670a) {
                return _0x4b97a8 === _0x46670a;
            },
            'BorKu': function (_0x73e0f2, _0x3add2a) {
                return _0x73e0f2 === _0x3add2a;
            },
            'OSSCG': function (_0xa458d6, _0x40c8e9) {
                return _0xa458d6 === _0x40c8e9;
            },
            'gKukZ': function (_0x34b5d9, _0x8a3fbc) {
                return _0x34b5d9 === _0x8a3fbc;
            },
            'lesla': function (_0x137c1f, _0x31ec0b) {
                return _0x137c1f === _0x31ec0b;
            },
            'fBsiy': function (_0xbfdc6a, _0x5f512b) {
                return _0xbfdc6a === _0x5f512b;
            },
            'NkSvV': function (_0x2d90a6, _0x2b5c23) {
                return _0x2d90a6 === _0x2b5c23;
            },
            'YelHO': function (_0xff1f83, _0x27effd) {
                return _0xff1f83 === _0x27effd;
            },
            'rlVHY': function (_0x17ec76, _0x26118f) {
                return _0x17ec76 === _0x26118f;
            },
            'DqpCX': function (_0xe5be35, _0x56b395) {
                return _0xe5be35 === _0x56b395;
            },
            'RyNmU': function (_0x1831f6, _0x18be77) {
                return _0x1831f6 === _0x18be77;
            },
            'fpffS': function (_0x5e380b, _0x1860f3) {
                return _0x5e380b === _0x1860f3;
            },
            'ieGZx': function (_0x21a4d9, _0x4be58c) {
                return _0x21a4d9 === _0x4be58c;
            },
            'yOVfe': function (_0x4f54d5, _0x4f20e1) {
                return _0x4f54d5 === _0x4f20e1;
            }
        };
    var _0x55ed89, _0x5e3585, _0x348d2e, _0x3b6f62, _0x2b042c, _0x558d76, _0x18058f, _0x12faa8, _0x49a977, _0xb5c7f8, _0x107b9f, _0x4ef26c, _0x3ebe87, _0x473d1d, _0x5554d9, _0x79921c, _0x2ecde1, _0x379007, _0x528c2b, _0x4202ba, _0xbf347c, _0x55cdeb;
    const _0x4e138e = {
            'ticketId': _0x3d8d4c['id'],
            'body': '',
            'contactId': _0x3d8d4c[_0x296acc(0x114)],
            'fromMe': !![],
            'read': !![],
            'mediaType': _0x335ebf[_0x296acc(0x131)],
            'mediaUrl': undefined,
            'timestamp': new Date()[_0x296acc(0x10c)](),
            'quotedMsgId': undefined,
            'userId': _0x4a5e6f,
            'scheduleDate': undefined,
            'sendType': _0x335ebf[_0x296acc(0xf0)],
            'status': _0x335ebf[_0x296acc(0x106)],
            'tenantId': _0x12ee2b
        }, _0x545df5 = {};
    _0x545df5['id'] = _0x3d8d4c[_0x296acc(0x179)];
    const _0x7aa0b2 = {};
    _0x7aa0b2[_0x296acc(0xe2)] = _0x545df5, _0x7aa0b2[_0x296acc(0x142)] = [
        'id',
        _0x335ebf[_0x296acc(0x183)],
        _0x335ebf[_0x296acc(0xc1)]
    ];
    const _0x41005e = yield WhatsappZPRO_1[_0x296acc(0x1b9)][_0x296acc(0x171)](_0x7aa0b2);
    try {
        if (_0x335ebf[_0x296acc(0x1c3)](_0x2b5696[_0x296acc(0x1a4)], _0x335ebf[_0x296acc(0x194)]) && _0x2b5696[_0x296acc(0x143)][_0x296acc(0xd3)])
            try {
                const _0x3799ec = {};
                _0x3799ec[_0x296acc(0xd3)] = _0x2b5696[_0x296acc(0x143)][_0x296acc(0xd3)], _0x3799ec[_0x296acc(0x1be) + 'e'] = _0x2b5696[_0x296acc(0x143)][_0x296acc(0x1be) + 'e'], _0x3799ec[_0x296acc(0xfe)] = _0x2b5696[_0x296acc(0x143)][_0x296acc(0xfe)], _0x3799ec[_0x296acc(0x17d) + _0x296acc(0x107)] = _0x2b5696[_0x296acc(0x143)][_0x296acc(0x17d) + _0x296acc(0x107)], _0x3799ec[_0x296acc(0x166) + _0x296acc(0xe3)] = !![], _0x3799ec[_0x296acc(0x161)] = null, _0x3799ec[_0x296acc(0x136) + 'ow'] = null, yield _0x3d8d4c[_0x296acc(0x1cb)](_0x3799ec);
                const _0x15a808 = {};
                _0x15a808['id'] = _0x3d8d4c['id'], _0x15a808[_0x296acc(0x137)] = _0x3d8d4c[_0x296acc(0x137)];
                const _0x56270f = yield (0x1f2d * -0x1 + 0x42 * 0xc + -0x403 * -0x7, ShowTicketServiceZPRO_1[_0x296acc(0x1b9)])(_0x15a808), _0x11a0a8 = {};
                _0x11a0a8[_0x296acc(0x137)] = _0x3d8d4c[_0x296acc(0x137)], _0x11a0a8[_0x296acc(0x1a4)] = _0x335ebf[_0x296acc(0x169)], _0x11a0a8[_0x296acc(0x159)] = _0x56270f, (0x2 * -0x327 + 0x17fe + -0x11b0, _6gb8ypf_zpro_1[_0x296acc(0x1b9)])(_0x11a0a8);
                if (!_0x4823d8)
                    return;
                const _0x427fa1 = {};
                _0x427fa1['id'] = _0x3d8d4c['id'];
                const _0x3718f7 = {};
                _0x3718f7[_0x296acc(0x127)] = ContactZPRO_1[_0x296acc(0x1b9)], _0x3718f7['as'] = _0x335ebf[_0x296acc(0xe7)];
                const _0x425e21 = {};
                _0x425e21[_0x296acc(0x127)] = WhatsappZPRO_1[_0x296acc(0x1b9)], _0x425e21['as'] = _0x335ebf[_0x296acc(0xd1)];
                const _0x4397d9 = {};
                _0x4397d9[_0x296acc(0xe2)] = _0x427fa1, _0x4397d9[_0x296acc(0x18b)] = [
                    _0x3718f7,
                    _0x425e21
                ];
                const _0x2dda1b = yield TicketZPRO_1[_0x296acc(0x1b9)][_0x296acc(0x171)](_0x4397d9);
                yield (-0x11e5 + -0x125d + 0x2442, HandleMessageTypebotZPRO_1[_0x296acc(0x1b9)])(_0x4823d8, _0x145524, _0x2dda1b);
            } catch (_0x29bee9) {
                tvbp8dlkc2o_zpro_1[_0x296acc(0x14e)][_0x296acc(0x14c)](_0x335ebf[_0x296acc(0x192)], _0x29bee9);
            }
        if (_0x335ebf[_0x296acc(0x195)](_0x2b5696[_0x296acc(0x1a4)], _0x335ebf[_0x296acc(0x12f)]) && _0x2b5696[_0x296acc(0x143)][_0x296acc(0x100) + _0x296acc(0x13c)])
            try {
                const _0xb788a3 = {};
                _0xb788a3[_0x296acc(0x151) + _0x296acc(0x11c)] = _0x2b5696[_0x296acc(0x143)][_0x296acc(0x151) + _0x296acc(0x11c)] || null, _0xb788a3[_0x296acc(0xcf) + 'd'] = _0x2b5696[_0x296acc(0x143)][_0x296acc(0xf5) + _0x296acc(0x186)] || null, _0xb788a3[_0x296acc(0x100) + _0x296acc(0x13c)] = _0x2b5696[_0x296acc(0x143)][_0x296acc(0x100) + _0x296acc(0x13c)], _0xb788a3[_0x296acc(0x167) + _0x296acc(0x1bb) + 'd'] = _0x2b5696[_0x296acc(0x143)][_0x296acc(0x167) + 'Id'], _0xb788a3[_0x296acc(0x115)] = _0x2b5696[_0x296acc(0x143)][_0x296acc(0x115)], _0xb788a3[_0x296acc(0xd4) + _0x296acc(0xe3)] = !![], _0xb788a3[_0x296acc(0x161)] = null, _0xb788a3[_0x296acc(0x136) + 'ow'] = null, yield _0x3d8d4c[_0x296acc(0x1cb)](_0xb788a3);
                const _0x99a204 = {};
                _0x99a204['id'] = _0x3d8d4c['id'], _0x99a204[_0x296acc(0x137)] = _0x3d8d4c[_0x296acc(0x137)];
                const _0x5c8d8c = yield (-0x1b1 * 0x1 + -0x1 * -0xee3 + 0x6 * -0x233, ShowTicketServiceZPRO_1[_0x296acc(0x1b9)])(_0x99a204), _0x1a21b0 = {};
                _0x1a21b0[_0x296acc(0x137)] = _0x3d8d4c[_0x296acc(0x137)], _0x1a21b0[_0x296acc(0x1a4)] = _0x335ebf[_0x296acc(0x169)], _0x1a21b0[_0x296acc(0x159)] = _0x5c8d8c, (0xbaa * -0x2 + -0x20b * 0x13 + 0x3e25, _6gb8ypf_zpro_1[_0x296acc(0x1b9)])(_0x1a21b0);
                if (!_0x4823d8)
                    return;
                const _0x1fa716 = {};
                _0x1fa716['id'] = _0x3d8d4c['id'];
                const _0x3cd9ea = {};
                _0x3cd9ea[_0x296acc(0x127)] = ContactZPRO_1[_0x296acc(0x1b9)], _0x3cd9ea['as'] = _0x335ebf[_0x296acc(0xe7)];
                const _0x48e735 = {};
                _0x48e735[_0x296acc(0x127)] = WhatsappZPRO_1[_0x296acc(0x1b9)], _0x48e735['as'] = _0x335ebf[_0x296acc(0xd1)];
                const _0x23dd74 = {};
                _0x23dd74[_0x296acc(0xe2)] = _0x1fa716, _0x23dd74[_0x296acc(0x18b)] = [
                    _0x3cd9ea,
                    _0x48e735
                ];
                const _0x5c7521 = yield TicketZPRO_1[_0x296acc(0x1b9)][_0x296acc(0x171)](_0x23dd74);
                yield (0x1 * -0x50b + -0x19a1 * 0x1 + 0x25c * 0xd, HandleMessageChatGptZPRO_1[_0x296acc(0x1b9)])(_0x4823d8, _0x145524, _0x5c7521);
            } catch (_0x3f93e8) {
                tvbp8dlkc2o_zpro_1[_0x296acc(0x14e)][_0x296acc(0x14c)](_0x335ebf[_0x296acc(0x192)], _0x3f93e8);
            }
        if (_0x335ebf[_0x296acc(0x195)](_0x2b5696[_0x296acc(0x1a4)], _0x335ebf[_0x296acc(0x1b3)]) && _0x2b5696[_0x296acc(0x143)][_0x296acc(0xf4)])
            try {
                const _0x40b72a = {};
                _0x40b72a[_0x296acc(0x161)] = _0x2b5696[_0x296acc(0x143)][_0x296acc(0xf4)], _0x40b72a[_0x296acc(0x136) + 'ow'] = _0x335ebf[_0x296acc(0x18a)], _0x40b72a[_0x296acc(0x1ba)] = ![], _0x40b72a[_0x296acc(0x154)] = !![], _0x40b72a[_0x296acc(0x1d0)] = 0x0, _0x40b72a[_0x296acc(0x18e) + _0x296acc(0x168)] = !![], _0x40b72a[_0x296acc(0x133)] = !![], yield _0x3d8d4c[_0x296acc(0x1cb)](_0x40b72a);
                const _0xe169e5 = {};
                _0xe169e5['id'] = _0x3d8d4c['id'], _0xe169e5[_0x296acc(0x137)] = _0x3d8d4c[_0x296acc(0x137)];
                const _0x4787e8 = yield (0x29 * -0x11 + -0x8 * -0x322 + 0x7 * -0x331, ShowTicketServiceZPRO_1[_0x296acc(0x1b9)])(_0xe169e5), _0x45339b = {};
                _0x45339b[_0x296acc(0x137)] = _0x3d8d4c[_0x296acc(0x137)], _0x45339b[_0x296acc(0x1a4)] = _0x335ebf[_0x296acc(0x169)], _0x45339b[_0x296acc(0x159)] = _0x4787e8, (0x21c1 + -0x1 * 0x132b + -0xe96, _6gb8ypf_zpro_1[_0x296acc(0x1b9)])(_0x45339b);
                const _0x408e71 = {};
                _0x408e71[_0x296acc(0x185)] = ![];
                const _0x2ba896 = {};
                _0x2ba896[_0x296acc(0xc2)] = _0x3d8d4c[_0x296acc(0xd9) + 'e'], _0x2ba896[_0x296acc(0x185)] = ![], _0x2ba896[_0x296acc(0xe1)] = _0x408e71;
                const _0x1697d5 = _0x2ba896;
                if (!_0x4823d8)
                    return;
                yield (-0x3 * 0x407 + 0x9 * 0xbc + 0x3 * 0x1d3, VerifyStepsChatFlowTicketZPRO_1[_0x296acc(0x1b9)])(_0x4823d8, _0x1697d5, _0x3d8d4c);
            } catch (_0x48f650) {
                tvbp8dlkc2o_zpro_1[_0x296acc(0x14e)][_0x296acc(0x14c)](_0x335ebf[_0x296acc(0x192)], _0x48f650);
            }
        if (_0x335ebf[_0x296acc(0x195)](_0x2b5696[_0x296acc(0x1a4)], _0x335ebf[_0x296acc(0x1cd)]) && _0x2b5696[_0x296acc(0x143)][_0x296acc(0x1c4)]) {
            if (_0x335ebf[_0x296acc(0xe0)](_0x2b5696[_0x296acc(0x143)][_0x296acc(0x1c4)], ''))
                return;
            try {
                _0x2b5696[_0x296acc(0x143)][_0x296acc(0x1c4)] = (0x1 * -0x766 + 0xad3 * 0x1 + 0x1 * -0x36d, _9gx0at0h_zpro_1[_0x296acc(0x1b5)])(_0x2b5696[_0x296acc(0x143)][_0x296acc(0x1c4)] || '', {
                    'protocol': (_0x335ebf[_0x296acc(0x15c)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x173)](_0x3d8d4c, void (0x1 * -0xc5e + -0xd * -0x72 + 0x694)) ? void (-0x1 * 0x102a + 0x1270 + 0x123 * -0x2) : _0x3d8d4c[_0x296acc(0x134)]) || '',
                    'name': (_0x335ebf[_0x296acc(0x15c)](_0x55ed89 = _0x335ebf[_0x296acc(0x173)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x15c)](_0x3d8d4c, void (0x9a6 + -0xec8 + 0x522 * 0x1)) ? void (0x1383 + 0x241c + -0x379f) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0x173)](_0x55ed89, void (-0xc * 0x282 + 0xad * -0x2f + 0x3ddb)) ? void (0x2523 + 0x1dbc + -0x42df) : _0x55ed89[_0x296acc(0xd0)][_0x296acc(0x1ce)](/[^a-zA-Z0-9\u00C0-\u00FF]+/g, '')) || '',
                    'email': (_0x335ebf[_0x296acc(0x1a6)](_0x5e3585 = _0x335ebf[_0x296acc(0x1c3)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x173)](_0x3d8d4c, void (0x8cf * 0x2 + -0x22e2 + 0x1144)) ? void (0x26b6 + -0x1 * -0x260f + -0x4cc5 * 0x1) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0x15c)](_0x5e3585, void (0xbb3 + 0x176b * -0x1 + 0xbb8)) ? void (-0x1e * -0x2 + -0xee2 + 0xea6) : _0x5e3585[_0x296acc(0x10f)]) || '',
                    'phoneNumber': (_0x335ebf[_0x296acc(0x15c)](_0x348d2e = _0x335ebf[_0x296acc(0x15c)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x15c)](_0x3d8d4c, void (-0x1c1f * 0x1 + -0x11b3 + -0x1fe * -0x17)) ? void (-0x481 * 0x5 + 0x1c28 + 0x5a3 * -0x1) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0x15c)](_0x348d2e, void (-0x2 * -0x49 + 0x7 * 0x31d + 0xe5 * -0x19)) ? void (0x1d38 + 0x24d5 + 0x25 * -0x1c9) : _0x348d2e[_0x296acc(0x16c)]) || '',
                    'kanban': (_0x335ebf[_0x296acc(0x1c3)](_0x3b6f62 = _0x335ebf[_0x296acc(0x1a6)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x19d)](_0x3d8d4c, void (0x1ef7 + -0x1e59 + -0x9e)) ? void (-0x2704 + -0x236d + -0x461 * -0x11) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0x1c3)](_0x3b6f62, void (0x5 * 0x4e1 + 0x161c + -0x2e81)) ? void (0x458 + 0x1a4b * 0x1 + -0x1ea3) : _0x3b6f62[_0x296acc(0xcc)]) || '',
                    'firstName': (_0x335ebf[_0x296acc(0x19d)](_0x2b042c = _0x335ebf[_0x296acc(0x1aa)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x1c3)](_0x3d8d4c, void (0x1 * 0x1c21 + -0xf80 + 0x35 * -0x3d)) ? void (-0x86 * -0xd + -0x340 * 0x2 + -0x4e) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0x18f)](_0x2b042c, void (-0x21bd + 0x14 * -0xba + -0x3 * -0x1017)) ? void (-0xd40 * 0x2 + 0x18 * -0x4 + 0x20 * 0xd7) : _0x2b042c[_0x296acc(0x198)]) || '',
                    'lastName': (_0x335ebf[_0x296acc(0xd8)](_0x558d76 = _0x335ebf[_0x296acc(0x18f)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x173)](_0x3d8d4c, void (-0x5 * 0x4d6 + 0x227a + -0xa4c)) ? void (-0x574 + -0x1 * 0x19d3 + 0x1f47) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0x18f)](_0x558d76, void (-0x1eed + -0x8 * 0x476 + 0x429d * 0x1)) ? void (-0x12ea + -0x151b + 0x801 * 0x5) : _0x558d76[_0x296acc(0xca)]) || '',
                    'businessName': (_0x335ebf[_0x296acc(0xda)](_0x18058f = _0x335ebf[_0x296acc(0x191)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x11b)](_0x3d8d4c, void (-0x22b4 + 0x1 * -0x1acb + 0x3d7f)) ? void (0x6a + -0x9d5 * -0x1 + -0xa3f) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0xf6)](_0x18058f, void (0x26 * -0xb2 + 0x1 * 0x6c + 0x1a00)) ? void (0x3 * -0x80e + 0x2 * 0x1248 + 0x45 * -0x2e) : _0x18058f[_0x296acc(0x16a) + 'me']) || '',
                    'cpf': (_0x335ebf[_0x296acc(0xf2)](_0x12faa8 = _0x335ebf[_0x296acc(0xd8)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0xd8)](_0x3d8d4c, void (-0x14ca + -0x14 * -0x111 + 0x3 * -0x2e)) ? void (-0x2612 + 0x794 + 0x515 * 0x6) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0x1a6)](_0x12faa8, void (0x236a * 0x1 + 0x1944 + -0x3cae * 0x1)) ? void (0x17ff * 0x1 + 0x12b9 * -0x1 + -0x546) : _0x12faa8[_0x296acc(0x1ad)]) || '',
                    'birthdayDate': (_0x335ebf[_0x296acc(0x155)](_0x49a977 = _0x335ebf[_0x296acc(0xef)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x123)](_0x3d8d4c, void (-0xee7 + 0x6 * -0x1d3 + 0xd * 0x1fd)) ? void (0xcf + 0x1509 + -0x4 * 0x576) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0x155)](_0x49a977, void (-0xfe1 + 0x1 * 0x210d + -0x112c)) ? void (-0x1884 + 0x120b + 0x679 * 0x1) : _0x49a977[_0x296acc(0x170) + 'te']) || '',
                    'user': (_0x335ebf[_0x296acc(0x152)](_0xb5c7f8 = _0x335ebf[_0x296acc(0xef)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x173)](_0x3d8d4c, void (0x6 * -0x4b2 + 0xe9 * -0x23 + -0x7f * -0x79)) ? void (-0x1a3f + -0x2 * 0x85d + 0x2af9 * 0x1) : _0x3d8d4c[_0x296acc(0xbf)], null) || _0x335ebf[_0x296acc(0x155)](_0xb5c7f8, void (0x1681 + -0x7e1 * -0x1 + 0x1e62 * -0x1)) ? void (0x1005 + 0xd06 + -0x1d0b) : _0xb5c7f8[_0x296acc(0xd0)]) || '',
                    'userEmail': (_0x335ebf[_0x296acc(0xf8)](_0x107b9f = _0x335ebf[_0x296acc(0x19a)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0xd5)](_0x3d8d4c, void (0x1 * -0x1069 + -0x1f7 * -0xb + 0x6f * -0xc)) ? void (0x7f8 + 0x12c3 + -0x8e9 * 0x3) : _0x3d8d4c[_0x296acc(0xbf)], null) || _0x335ebf[_0x296acc(0xc7)](_0x107b9f, void (-0x18e7 + 0x1b48 + -0x261)) ? void (-0x17e4 + -0x1 * -0x15a5 + 0x1 * 0x23f) : _0x107b9f[_0x296acc(0x10f)]) || ''
                }), _0x335ebf[_0x296acc(0xda)](typeof _0x2b5696[_0x296acc(0x143)][_0x296acc(0x1c4)], _0x335ebf[_0x296acc(0xff)]) && (yield axios_1[_0x296acc(0x1b9)][_0x296acc(0x11a)](_0x2b5696[_0x296acc(0x143)][_0x296acc(0x1c4)]));
            } catch (_0x16c012) {
                tvbp8dlkc2o_zpro_1[_0x296acc(0x14e)][_0x296acc(0x14c)](_0x335ebf[_0x296acc(0x192)], _0x16c012);
            }
        }
        if (_0x335ebf[_0x296acc(0x11f)](_0x2b5696[_0x296acc(0x1a4)], _0x335ebf[_0x296acc(0x120)]) && _0x2b5696[_0x296acc(0x143)][_0x296acc(0xfa)]) {
            if (_0x335ebf[_0x296acc(0x155)](_0x2b5696[_0x296acc(0x143)][_0x296acc(0xfa)], null))
                return;
            yield (0x636 + 0xc2 * -0xb + -0x10 * -0x22, UpdateContactTagsBotServiceZPRO_1[_0x296acc(0x1b9)])({
                'tagId': _0x2b5696[_0x296acc(0x143)][_0x296acc(0xfa)],
                'contactId': _0x3d8d4c[_0x296acc(0x114)][_0x296acc(0x15b)](),
                'tenantId': _0x12ee2b
            });
        }
        if (_0x335ebf[_0x296acc(0xda)](_0x2b5696[_0x296acc(0x1a4)], _0x335ebf[_0x296acc(0x1c8)]) && _0x2b5696[_0x296acc(0x143)][_0x296acc(0xcc)]) {
            if (_0x335ebf[_0x296acc(0xee)](_0x2b5696[_0x296acc(0x143)][_0x296acc(0xfa)], null))
                return;
            const _0x13323a = {};
            _0x13323a[_0x296acc(0x142)] = [
                'id',
                _0x335ebf[_0x296acc(0xd2)]
            ];
            const _0x149e9c = yield ContactZPRO_1[_0x296acc(0x1b9)][_0x296acc(0x10d)](_0x3d8d4c[_0x296acc(0x114)], _0x13323a);
            if (!_0x149e9c)
                throw new Error(_0x335ebf[_0x296acc(0x1cc)]);
            yield _0x149e9c[_0x296acc(0x1cb)]({ 'kanban': _0x335ebf[_0x296acc(0xfc)](Number, _0x2b5696[_0x296acc(0x143)][_0x296acc(0xcc)]) });
        }
        if (_0x335ebf[_0x296acc(0xd5)](_0x2b5696[_0x296acc(0x1a4)], _0x335ebf[_0x296acc(0x150)]) && _0x2b5696[_0x296acc(0x143)][_0x296acc(0x116)]) {
            const _0x2c6864 = _0x3811ca => new Promise(_0x521f4c => setTimeout(_0x521f4c, _0x3811ca)), _0x4cb13c = _0x335ebf[_0x296acc(0xf7)](_0x2b5696[_0x296acc(0x143)][_0x296acc(0x116)], -0x141 * -0x1f + 0x201e + 0x1 * -0x4315);
            function _0x4fdb0a() {
                const _0x47c9ad = _0x296acc;
                return _0x335ebf[_0x47c9ad(0x16d)](__awaiter, this, void (-0x3a * 0xa3 + 0xd * -0x189 + -0x38e3 * -0x1), void (0x149a + -0x1f * -0x3a + -0x1ba0), function* () {
                    const _0x17b85d = _0x47c9ad;
                    yield _0x335ebf[_0x17b85d(0xd6)](_0x2c6864, _0x4cb13c);
                });
            }
            yield _0x335ebf[_0x296acc(0x124)](_0x4fdb0a);
        }
        if (_0x335ebf[_0x296acc(0x157)](_0x2b5696[_0x296acc(0x1a4)], _0x335ebf[_0x296acc(0x1bd)]) && _0x2b5696[_0x296acc(0x143)][_0x296acc(0x140)]) {
            const _0x4907d7 = _0x2b5696[_0x296acc(0x143)][_0x296acc(0x140)][_0x296acc(0x138)]('/'), _0x10d0bc = _0x4907d7[_0x335ebf[_0x296acc(0xeb)](_0x4907d7[_0x296acc(0xf9)], 0x1c29 + 0x16fc + -0x1 * 0x3324)], _0x4d4484 = process[_0x296acc(0x177)][_0x296acc(0x1a0) + 'L'], _0x5a31f9 = _0x335ebf[_0x296acc(0x147)](prepareMedia, _0x10d0bc, _0x4d4484, _0x3d8d4c[_0x296acc(0x137)][_0x296acc(0x15b)]());
            try {
                yield (0x83 * -0x37 + -0x1bad + 0x37d2, SendMediaMessageServiceZPRO_1[_0x296acc(0xbb) + _0x296acc(0xe8) + _0x296acc(0xc9)])(_0x5a31f9, undefined, _0x335ebf[_0x296acc(0x13a)], _0x3d8d4c['id'], _0x3d8d4c[_0x296acc(0x126)], _0x41005e, _0x12ee2b, ![]);
            } catch (_0x238568) {
                tvbp8dlkc2o_zpro_1[_0x296acc(0x14e)][_0x296acc(0x14c)](_0x335ebf[_0x296acc(0x14b)](_0x335ebf[_0x296acc(0x1bc)], _0x238568));
            }
            yield _0x3d8d4c[_0x296acc(0x1cb)]({
                'lastMessage': _0x4907d7[0x250c * 0x1 + -0x11 * 0x19a + -0x9d1],
                'lastMessageAt': new Date()[_0x296acc(0x10c)]()
            });
        } else {
            if (_0x335ebf[_0x296acc(0x12d)](_0x2b5696[_0x296acc(0x1a4)], _0x335ebf[_0x296acc(0x150)]) && _0x335ebf[_0x296acc(0x180)](_0x2b5696[_0x296acc(0x1a4)], _0x335ebf[_0x296acc(0x1bd)]) && _0x335ebf[_0x296acc(0x180)](_0x2b5696[_0x296acc(0x1a4)], _0x335ebf[_0x296acc(0x120)]) && _0x335ebf[_0x296acc(0x12d)](_0x2b5696[_0x296acc(0x1a4)], _0x335ebf[_0x296acc(0x1cd)]) && _0x335ebf[_0x296acc(0x1a8)](_0x2b5696[_0x296acc(0x1a4)], _0x335ebf[_0x296acc(0x1b3)]) && _0x335ebf[_0x296acc(0x165)](_0x2b5696[_0x296acc(0x1a4)], _0x335ebf[_0x296acc(0x194)]) && _0x335ebf[_0x296acc(0x12d)](_0x2b5696[_0x296acc(0x1a4)], _0x335ebf[_0x296acc(0x1c8)]) && _0x335ebf[_0x296acc(0x188)](_0x2b5696[_0x296acc(0x1a4)], _0x335ebf[_0x296acc(0x12f)])) {
                _0x2b5696[_0x296acc(0x143)][_0x296acc(0x1b6)] = (0x16 * -0x185 + -0x1e7 * 0x4 + 0x290a, _9gx0at0h_zpro_1[_0x296acc(0x1b5)])(_0x2b5696[_0x296acc(0x143)][_0x296acc(0x1b6)] || '', {
                    'protocol': (_0x335ebf[_0x296acc(0x108)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x1a6)](_0x3d8d4c, void (-0x1 * -0x1b73 + -0x3d7 + -0x5e7 * 0x4)) ? void (0x61 * -0x27 + 0x254f * 0x1 + -0x1688) : _0x3d8d4c[_0x296acc(0x134)]) || '',
                    'name': (_0x335ebf[_0x296acc(0xd5)](_0x4ef26c = _0x335ebf[_0x296acc(0x123)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x16e)](_0x3d8d4c, void (0x1 * 0x2c7 + 0x1828 + -0x1aef)) ? void (0x17ac + 0x1 * -0x966 + -0xe46) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0x155)](_0x4ef26c, void (-0x13c5 + 0x1827 + -0x42 * 0x11)) ? void (0x1 * -0x1bec + -0x13e + -0x2 * -0xe95) : _0x4ef26c[_0x296acc(0xd0)]) || '',
                    'email': (_0x335ebf[_0x296acc(0xc8)](_0x3ebe87 = _0x335ebf[_0x296acc(0x17c)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0xd8)](_0x3d8d4c, void (-0x1176 + 0x277 + 0xeff)) ? void (0x5 * -0x205 + -0x2197 + -0x1 * -0x2bb0) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0xc7)](_0x3ebe87, void (-0x547 * -0x5 + -0x1d93 + 0x330)) ? void (0x112a * -0x1 + -0x7 * 0x355 + 0x287d) : _0x3ebe87[_0x296acc(0x10f)]) || '',
                    'phoneNumber': (_0x335ebf[_0x296acc(0xf6)](_0x473d1d = _0x335ebf[_0x296acc(0x19d)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x157)](_0x3d8d4c, void (0x1fcb * -0x1 + -0x2 * 0x1104 + 0x41d3)) ? void (0x85 * -0x43 + -0x22d7 + 0x45a6 * 0x1) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0xef)](_0x473d1d, void (0x2 * 0x845 + 0x1223 + 0x21 * -0x10d)) ? void (0x16ef + -0x457 + -0x1298) : _0x473d1d[_0x296acc(0x16c)]) || '',
                    'kanban': (_0x335ebf[_0x296acc(0x1b1)](_0x5554d9 = _0x335ebf[_0x296acc(0x11f)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0xee)](_0x3d8d4c, void (-0x18a * 0x3 + -0x1 * 0x2267 + 0x2705)) ? void (0x21c2 + 0x11be + -0x3380) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0x15f)](_0x5554d9, void (-0x12b8 * -0x1 + 0x10d1 + -0x2389)) ? void (-0x21a3 + 0x2176 * -0x1 + 0xc1 * 0x59) : _0x5554d9[_0x296acc(0xcc)]) || '',
                    'firstName': (_0x335ebf[_0x296acc(0xc7)](_0x79921c = _0x335ebf[_0x296acc(0xd5)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x14f)](_0x3d8d4c, void (-0xb * 0xcf + -0x1e98 + -0xb * -0x397)) ? void (-0x1 * 0x8b + 0x2367 + -0x22dc) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0x191)](_0x79921c, void (-0x2218 + -0x48b * 0x7 + 0x15f7 * 0x3)) ? void (0x1 * 0x11 + 0x166e + -0x1 * 0x167f) : _0x79921c[_0x296acc(0x198)]) || '',
                    'lastName': (_0x335ebf[_0x296acc(0x112)](_0x2ecde1 = _0x335ebf[_0x296acc(0x18f)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x178)](_0x3d8d4c, void (-0x199a + -0xae7 + 0x2481)) ? void (-0x1bd + 0x3db + -0x21e) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0x15d)](_0x2ecde1, void (-0x63 * 0x49 + -0xcdf + 0x291a)) ? void (-0x1 * 0x921 + -0x1 * -0x173d + -0xe1c) : _0x2ecde1[_0x296acc(0xca)]) || '',
                    'businessName': (_0x335ebf[_0x296acc(0x1d5)](_0x379007 = _0x335ebf[_0x296acc(0x157)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x12c)](_0x3d8d4c, void (0x12f2 + -0x1dac + 0xaba * 0x1)) ? void (-0x1 * 0x20ea + 0x1c4 + 0x1f26) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0x16e)](_0x379007, void (0x529 + -0xb27 + 0x5fe)) ? void (-0xeb1 * -0x1 + 0x25ee + 0x2c5 * -0x13) : _0x379007[_0x296acc(0x16a) + 'me']) || '',
                    'cpf': (_0x335ebf[_0x296acc(0x191)](_0x528c2b = _0x335ebf[_0x296acc(0x1d5)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x189)](_0x3d8d4c, void (0x1 * -0x70f + -0x350 + 0xa5f)) ? void (0xd5 + -0x1f72 * -0x1 + -0x2047) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0x19e)](_0x528c2b, void (0xbbc + -0x1851 + 0x1 * 0xc95)) ? void (0xfb3 + 0x946 + 0x853 * -0x3) : _0x528c2b[_0x296acc(0x1ad)]) || '',
                    'birthdayDate': (_0x335ebf[_0x296acc(0x15d)](_0x4202ba = _0x335ebf[_0x296acc(0xee)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0xc7)](_0x3d8d4c, void (-0xb2b + 0x2 * -0x105 + 0x17 * 0x93)) ? void (-0x3 * 0x322 + 0x19c9 + -0x5 * 0x347) : _0x3d8d4c[_0x296acc(0x126)], null) || _0x335ebf[_0x296acc(0x191)](_0x4202ba, void (0x199d + -0x1 * 0x7b + -0x1922)) ? void (-0x1 * -0x216d + 0x1b2a + -0x3c97) : _0x4202ba[_0x296acc(0x170) + 'te']) || '',
                    'user': (_0x335ebf[_0x296acc(0xd5)](_0xbf347c = _0x335ebf[_0x296acc(0xfb)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0xd5)](_0x3d8d4c, void (0x1f95 + -0x1 * 0x213b + 0x1a6)) ? void (0x6fb * 0x3 + -0x1 * 0x1596 + -0x5 * -0x21) : _0x3d8d4c[_0x296acc(0xbf)], null) || _0x335ebf[_0x296acc(0x1a6)](_0xbf347c, void (-0x23f3 + 0x1498 + 0xf5b * 0x1)) ? void (-0x180 + 0x21e3 + -0x2063) : _0xbf347c[_0x296acc(0xd0)]) || '',
                    'userEmail': (_0x335ebf[_0x296acc(0x11d)](_0x55cdeb = _0x335ebf[_0x296acc(0x178)](_0x3d8d4c, null) || _0x335ebf[_0x296acc(0x184)](_0x3d8d4c, void (-0x20f1 + -0x1 * -0x1f0f + -0x2 * -0xf1)) ? void (-0x6d * 0x13 + 0x1dfd * -0x1 + -0x130a * -0x2) : _0x3d8d4c[_0x296acc(0xbf)], null) || _0x335ebf[_0x296acc(0x189)](_0x55cdeb, void (-0x1 * 0x2405 + 0x1fed + -0x2 * -0x20c)) ? void (0xe26 + 0x13f9 * 0x1 + 0x1 * -0x221f) : _0x55cdeb[_0x296acc(0x10f)]) || ''
                });
                const _0xfbde2c = _0x2b5696[_0x296acc(0x143)][_0x296acc(0x1b6)];
                if (!_0xfbde2c)
                    return;
                yield (0x162 * 0x8 + 0x14c * -0x7 + -0x1fc, SendTextMessageServiceZPRO_1[_0x296acc(0x160) + _0x296acc(0x105) + 'ce'])(_0xfbde2c, undefined, _0x3d8d4c['id'], _0x3d8d4c[_0x296acc(0x126)], _0x41005e), yield _0x3d8d4c[_0x296acc(0x1cb)]({
                    'lastMessage': _0xfbde2c,
                    'lastMessageAt': new Date()[_0x296acc(0x10c)](),
                    'answered': !![]
                });
            }
        }
    } catch (_0xb59557) {
        tvbp8dlkc2o_zpro_1[_0x296acc(0x14e)][_0x296acc(0x14c)](_0x335ebf[_0x296acc(0x192)], _0xb59557);
    }
});
exports[_0x15708b(0x1b9)] = BuildSendMessageService;
function _0x443f(_0x438263, _0x52c89a) {
    const _0x8afdee = _0x26e2();
    return _0x443f = function (_0x237536, _0x54d793) {
        _0x237536 = _0x237536 - (-0xbe9 + 0x1 * 0x1931 + -0xc8d);
        let _0x534506 = _0x8afdee[_0x237536];
        return _0x534506;
    }, _0x443f(_0x438263, _0x52c89a);
}
function _0x26e2() {
    const _0xe46c5d = [
        'then',
        '181484hrECOa',
        'ssageServi',
        'fMYUR',
        'tart',
        'UzEpl',
        '../SendMed',
        'ound:\x20',
        'actZPRO',
        'getTime',
        'findByPk',
        'nodeC',
        'email',
        'Invalid\x20mi',
        'size',
        'lesla',
        'false',
        'contactId',
        'chatgptOff',
        'time',
        'ccLDU',
        'throw',
        '135984YNlNDI',
        'get',
        'jLIOy',
        'mpt',
        'ieGZx',
        'erviceZPRO',
        'SUiqG',
        'abAZZ',
        'actService',
        'ssageTypeb',
        'laPqJ',
        'PgYuJ',
        'next',
        'contact',
        'model',
        'mime-types',
        'Ertby',
        'ntactTagsB',
        'fault',
        'rlVHY',
        'ypuqr',
        'o\x20encontra',
        'Henmi',
        'string',
        'gHAWh',
        '/ShowTicke',
        'isCreated',
        'protocol',
        'alloc',
        'stepChatFl',
        'tenantId',
        'split',
        'assign',
        'BplBi',
        'odels/Cont',
        'Key',
        'odels/What',
        'PAoDU',
        'defineProp',
        'mediaUrl',
        '../../Cont',
        'attributes',
        'data',
        '74u7tljfp_',
        '/public/',
        'whatsapp',
        'sqXFQ',
        'bfzSA',
        'epsChatFlo',
        'ChatGPTFie',
        'TFMXy',
        'info',
        'pending',
        'logger',
        'gKukZ',
        'KlZFz',
        'chatgptPro',
        'VfFFd',
        'TakHq',
        'firstCall',
        'Hhmin',
        './VerifySt',
        'bnkEg',
        'chat',
        'payload',
        'XeuQU',
        'toString',
        'TeCuP',
        'NkSvV',
        'otServiceZ',
        'OSSCG',
        'SendTextMe',
        'chatFlowId',
        '../../../v',
        'TypebotFie',
        '12gKSeNm',
        'mqvmr',
        'typebotSta',
        'chatgptOrg',
        'ansfer',
        'GqkRj',
        'businessNa',
        'eld',
        'number',
        'JfQER',
        'lHIIK',
        'wabaId',
        'birthdayDa',
        'findOne',
        '__awaiter',
        'ksHQP',
        'etServices',
        '2319KnaZLv',
        '2099775vXBsPI',
        'env',
        'fBsiy',
        'whatsappId',
        'WebhookFie',
        'iaMessageS',
        'haNJM',
        'typebotRes',
        '__importDe',
        'MediaField',
        'SgBXp',
        'otZPRO',
        'bot',
        'GSQND',
        'yOVfe',
        'fromMe',
        'istantId',
        '../../../m',
        'guxzd',
        'DqpCX',
        'RKjyi',
        'include',
        'odels/Tick',
        'erty',
        'chatflowTr',
        'gJiDb',
        'pf_zpro',
        'edinh',
        'mBPLo',
        '308ECEvTa',
        'mHzFm',
        'srsPX',
        'z7amw_zpro',
        '/tvbp8dlkc',
        'firstName',
        'KanbanFiel',
        'mTMrM',
        'public',
        '2o_zpro',
        'thSTp',
        'RyNmU',
        'agka_zpro/',
        'BACKEND_UR',
        'DbgyH',
        'PRO',
        'DelayField',
        'type',
        '15ilLRzl',
        'iaois',
        'wTicketZPR',
        'ImqmW',
        'meType:\x20',
        'OqgkV',
        '__esModule',
        'done',
        'cpf',
        'zpro/6gb8y',
        'lookup',
        'ate',
        'BorKu',
        'rvice',
        'czaAF',
        'path',
        'pupa',
        'message',
        'rviceZPRO',
        'sappZPRO',
        'default',
        'answered',
        'anizationI',
        'JpmQr',
        'HHjFD',
        'typebotNam',
        'etZPRO',
        'zXCMX',
        'GobUm',
        'value',
        'fGjsT',
        'webhook',
        '1122ZrGzRi',
        ':::\x20ZDG\x20::',
        'age\x20error:',
        'nZOQx',
        'TagField',
        'createRead',
        'update',
        'fpQak',
        'hKkBz',
        'replace',
        '../SendTex',
        'botRetries',
        'VQyqM',
        'ticket:upd',
        '9gx0at0h_z',
        'join',
        'YelHO',
        '../../Tick',
        'gJedv',
        'tMessageSe',
        'statSync',
        'SendMediaM',
        'apply',
        'File\x20not\x20f',
        '1977059pJDZWS',
        'user',
        'apmWr',
        'XeVoR',
        'body',
        'Stream',
        '1203960LtlCHp',
        'axios',
        ':\x20sendMess',
        'gECPO',
        'Uogtv',
        'ice',
        'lastName',
        '7bit',
        'kanban',
        ':::\x20Z-PRO\x20',
        'JqoAc',
        'assistantI',
        'name',
        'eecCG',
        'CPzqL',
        'typebotUrl',
        'chatgptSta',
        'tYEXP',
        'xwZjG',
        'ssageChatG',
        'JumEg',
        'lastMessag',
        'eUKAL',
        'oCVdf',
        'medias',
        'Contato\x20nã',
        'ChatFlowFi',
        './HandleMe',
        'gTonI',
        'key',
        'where',
        'tus',
        'tServiceZP',
        'pro',
        ':\x20BuildSen',
        'ryryU',
        'essageServ',
        's/UpdateCo',
        '774585vvfqdQ',
        'KBaUG',
        'dMessageSe',
        '../../../9',
        'ueTws',
        'CTkwP',
        'notic',
        '32TwoFQl',
        'jzftt',
        '../../../b',
        'chatFlow',
        'chatgptass',
        'vKGui',
        'mBYHg',
        'fLRHo',
        'length',
        'tag',
        'fpffS',
        'ivKRV',
        'ptZPRO',
        'typebotOff',
        'gAEjf',
        'chatgptApi',
        'existsSync',
        'QjsJh'
    ];
    _0x26e2 = function () {
        return _0xe46c5d;
    };
    return _0x26e2();
}