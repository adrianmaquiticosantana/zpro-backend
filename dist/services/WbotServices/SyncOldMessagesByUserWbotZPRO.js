'use strict';
const _0x344031 = _0x2810;
(function (_0x4c169d, _0x3ceea6) {
    const _0x17161d = _0x2810, _0x5a596f = _0x4c169d();
    while (!![]) {
        try {
            const _0x2c9df6 = parseInt(_0x17161d(0x15c)) / (0x4b * 0x3b + 0x1592 + -0x136d * 0x2) + -parseInt(_0x17161d(0x152)) / (0x7 * 0x1a9 + -0xe48 + -0x1 * -0x2ab) * (-parseInt(_0x17161d(0x150)) / (-0xf5 + -0x1b83 + -0x13d * -0x17)) + -parseInt(_0x17161d(0x180)) / (-0x1124 + 0xb49 + 0x1 * 0x5df) + -parseInt(_0x17161d(0x1c6)) / (0x1 * -0x1c8b + 0x1fa1 + 0x9d * -0x5) * (parseInt(_0x17161d(0x190)) / (-0xe80 + 0x1b * -0x43 + 0x1597)) + -parseInt(_0x17161d(0x1c0)) / (0x2045 + -0x22c3 + -0xf * -0x2b) * (-parseInt(_0x17161d(0x1bf)) / (-0x14c2 + -0x56b + 0x1a35)) + -parseInt(_0x17161d(0x196)) / (0x1472 + -0x16e * 0x3 + -0x101f) * (parseInt(_0x17161d(0x18a)) / (0x287 * -0x7 + -0x717 * 0x1 + -0x1 * -0x18d2)) + -parseInt(_0x17161d(0x179)) / (0xd17 + -0x2070 + 0x1364);
            if (_0x2c9df6 === _0x3ceea6)
                break;
            else
                _0x5a596f['push'](_0x5a596f['shift']());
        } catch (_0x5ef8c2) {
            _0x5a596f['push'](_0x5a596f['shift']());
        }
    }
}(_0x2cb6, 0x15dfb2 + -0x9375 * 0x13 + 0x3be59));
function _0x2810(_0x588b95, _0x155239) {
    const _0x555e43 = _0x2cb6();
    return _0x2810 = function (_0x387425, _0x4dd20b) {
        _0x387425 = _0x387425 - (0x258d + -0x2445 + 0x1 * -0x1);
        let _0x48fb15 = _0x555e43[_0x387425];
        return _0x48fb15;
    }, _0x2810(_0x588b95, _0x155239);
}
var __awaiter = this && this[_0x344031(0x1ab)] || function (_0x39b689, _0x367ed9, _0x5a415d, _0x436546) {
        const _0x4a8bf8 = _0x344031, _0x23c95b = {
                'OHEGx': function (_0x207ea5, _0x263ef2) {
                    return _0x207ea5(_0x263ef2);
                },
                'gwBpL': function (_0x1b692b, _0x545061) {
                    return _0x1b692b instanceof _0x545061;
                },
                'lnfUA': function (_0x4604f6, _0x2c19a3) {
                    return _0x4604f6(_0x2c19a3);
                },
                'cKVlZ': function (_0x54c436, _0x45f720) {
                    return _0x54c436(_0x45f720);
                },
                'TZdnQ': _0x4a8bf8(0x168),
                'kpKtw': function (_0x561613, _0x5dd0ff) {
                    return _0x561613(_0x5dd0ff);
                }
            };
        function _0x5311ca(_0x161dc7) {
            const _0x1805d5 = _0x4a8bf8;
            return _0x23c95b[_0x1805d5(0x195)](_0x161dc7, _0x5a415d) ? _0x161dc7 : new _0x5a415d(function (_0x12feb6) {
                const _0x1b7397 = _0x1805d5;
                _0x23c95b[_0x1b7397(0x154)](_0x12feb6, _0x161dc7);
            });
        }
        return new (_0x5a415d || (_0x5a415d = Promise))(function (_0xabff1c, _0x4e2570) {
            const _0x45903e = _0x4a8bf8, _0x55f90a = {
                    'wmTJC': function (_0xe63bc2, _0x380398) {
                        const _0x39e9bc = _0x2810;
                        return _0x23c95b[_0x39e9bc(0x1b1)](_0xe63bc2, _0x380398);
                    },
                    'ttfBp': _0x23c95b[_0x45903e(0x148)]
                };
            function _0x9f099c(_0x4a6339) {
                const _0x35a617 = _0x45903e;
                try {
                    _0x23c95b[_0x35a617(0x154)](_0xfe643b, _0x436546[_0x35a617(0x165)](_0x4a6339));
                } catch (_0x16fe10) {
                    _0x23c95b[_0x35a617(0x14a)](_0x4e2570, _0x16fe10);
                }
            }
            function _0x4a3c80(_0x7f2c72) {
                const _0x54fdf1 = _0x45903e;
                try {
                    _0x55f90a[_0x54fdf1(0x19d)](_0xfe643b, _0x436546[_0x55f90a[_0x54fdf1(0x170)]](_0x7f2c72));
                } catch (_0x5d2a2b) {
                    _0x55f90a[_0x54fdf1(0x19d)](_0x4e2570, _0x5d2a2b);
                }
            }
            function _0xfe643b(_0x4df087) {
                const _0x1677eb = _0x45903e;
                _0x4df087[_0x1677eb(0x192)] ? _0x55f90a[_0x1677eb(0x19d)](_0xabff1c, _0x4df087[_0x1677eb(0x1b8)]) : _0x55f90a[_0x1677eb(0x19d)](_0x5311ca, _0x4df087[_0x1677eb(0x1b8)])[_0x1677eb(0x198)](_0x9f099c, _0x4a3c80);
            }
            _0x23c95b[_0x45903e(0x1c7)](_0xfe643b, (_0x436546 = _0x436546[_0x45903e(0x172)](_0x39b689, _0x367ed9 || []))[_0x45903e(0x165)]());
        });
    }, __importDefault = this && this[_0x344031(0x193) + _0x344031(0x18f)] || function (_0x1541b9) {
        const _0x29311a = _0x344031;
        return _0x1541b9 && _0x1541b9[_0x29311a(0x181)] ? _0x1541b9 : { 'default': _0x1541b9 };
    };
const _0x3b343d = {};
_0x3b343d[_0x344031(0x1b8)] = !![], Object[_0x344031(0x158) + _0x344031(0x183)](exports, _0x344031(0x181), _0x3b343d);
const tvbp8dlkc2o_zpro_1 = require(_0x344031(0x1a4) + _0x344031(0x177) + _0x344031(0x16d) + _0x344031(0x171)), FindOrCreateTicketServiceZPRO_1 = __importDefault(require(_0x344031(0x1a7) + _0x344031(0x185) + _0x344031(0x14d) + _0x344031(0x1ba) + _0x344031(0x1a9))), VerifyContactZPRO_1 = __importDefault(require(_0x344031(0x1a8) + _0x344031(0x19c) + _0x344031(0x18d))), VerifyMediaMessageZPRO_1 = __importDefault(require(_0x344031(0x1a8) + _0x344031(0x1ce) + _0x344031(0x184) + 'RO')), VerifyMessageZPRO_1 = __importDefault(require(_0x344031(0x1a8) + _0x344031(0x14f) + _0x344031(0x1c3))), mbe30_zpro_1 = __importDefault(require(_0x344031(0x157) + _0x344031(0x1b4) + _0x344031(0x191) + 'ro')), MessageZPRO_1 = __importDefault(require(_0x344031(0x161) + _0x344031(0x187) + _0x344031(0x15b))), TicketZPRO_1 = __importDefault(require(_0x344031(0x161) + _0x344031(0x18e) + _0x344031(0x19a))), _6gb8ypf_zpro_1 = __importDefault(require(_0x344031(0x1ac) + _0x344031(0x162) + _0x344031(0x16a) + _0x344031(0x171))), moment_timezone_1 = __importDefault(require(_0x344031(0x1af) + _0x344031(0x149))), d4afpq90v_zpro_1 = require(_0x344031(0x164) + _0x344031(0x19e) + _0x344031(0x176) + 'o'), delay = _0x39bad9 => new Promise(_0x520a7d => setTimeout(_0x520a7d, _0x39bad9)), SyncOldMessagesByUserWbot = (_0x353fdc, _0x2d2510, _0x375169, _0x4aefc3) => __awaiter(void (0x2633 + 0x20b9 + -0x6 * 0xbd2), void (0x5b7 + -0x5f9 * 0x1 + 0x21 * 0x2), void (-0x92f * 0x1 + -0x109c + 0x3 * 0x899), function* () {
        const _0xda6c22 = _0x344031, _0x5ba867 = {
                'KlbvS': function (_0x3bd968, _0x31e5be) {
                    return _0x3bd968 + _0x31e5be;
                },
                'JPqvl': _0xda6c22(0x1bc) + _0xda6c22(0x1a6) + _0xda6c22(0x1bb) + _0xda6c22(0x15f) + _0xda6c22(0x1cd),
                'DWrcs': _0xda6c22(0x1aa),
                'mFzji': function (_0x405d4c, _0x5658b0) {
                    return _0x405d4c + _0x5658b0;
                },
                'uScEH': _0xda6c22(0x1a5) + _0xda6c22(0x160),
                'oKkxZ': _0xda6c22(0x173),
                'rpKtd': _0xda6c22(0x17c),
                'VRHnh': _0xda6c22(0x1a3),
                'sjtVh': _0xda6c22(0x19b),
                'mubFN': _0xda6c22(0x17a),
                'ZLmpG': _0xda6c22(0x1b6) + _0xda6c22(0x1b7),
                'FEKnk': _0xda6c22(0x17e) + _0xda6c22(0x1c9) + _0xda6c22(0x16b),
                'YeJdY': _0xda6c22(0x163),
                'PZNHu': _0xda6c22(0x1b0) + 'e',
                'MssRB': _0xda6c22(0x17b),
                'HUkEm': _0xda6c22(0x174) + _0xda6c22(0x1a2),
                'VHppk': function (_0x2e6429, _0x47b6a3) {
                    return _0x2e6429(_0x47b6a3);
                },
                'qnjDo': _0xda6c22(0x1bc) + _0xda6c22(0x1a6) + _0xda6c22(0x186) + _0xda6c22(0x189)
            };
        try {
            const _0x277ca9 = yield (-0x1d03 + 0x74a + 0x15b9, mbe30_zpro_1[_0xda6c22(0x1cc)])(_0x353fdc), _0x198546 = yield _0x277ca9[_0xda6c22(0x182) + _0xda6c22(0x1c5)](_0x4aefc3), _0x4e14ce = yield _0x198546[_0xda6c22(0x16e)](), _0x14f2be = {};
            _0x14f2be[_0xda6c22(0x17d)] = _0x375169;
            let _0x14fb6f = yield _0x4e14ce[_0xda6c22(0x1bd) + _0xda6c22(0x15a)](_0x14f2be);
            tvbp8dlkc2o_zpro_1[_0xda6c22(0x1b2)][_0xda6c22(0x15e)](_0x5ba867[_0xda6c22(0x15d)](_0x5ba867[_0xda6c22(0x1a1)], _0x4aefc3)), _0x14fb6f = _0x14fb6f[_0xda6c22(0x14c)]();
            for (const _0x2635b6 of _0x14fb6f) {
                const _0x570c7c = yield _0x4e14ce[_0xda6c22(0x182)](), _0x5db61f = yield (0x1 * -0x220 + 0x154a + -0x16 * 0xdf, VerifyContactZPRO_1[_0xda6c22(0x1cc)])(_0x570c7c, _0x2d2510), _0x41cac8 = {};
                _0x41cac8[_0xda6c22(0x173)] = _0x5db61f, _0x41cac8[_0xda6c22(0x19f)] = _0x353fdc, _0x41cac8[_0xda6c22(0x14b) + _0xda6c22(0x194)] = _0x4e14ce[_0xda6c22(0x1c1) + 't'], _0x41cac8[_0xda6c22(0x1a3)] = _0x2d2510, _0x41cac8[_0xda6c22(0x1c4)] = !![], _0x41cac8[_0xda6c22(0x1c8)] = _0x5ba867[_0xda6c22(0x14e)];
                const _0x488df3 = yield (0x199b + -0xe3c * 0x1 + 0x1 * -0xb5f, FindOrCreateTicketServiceZPRO_1[_0xda6c22(0x1cc)])(_0x41cac8), _0x3e14e6 = {};
                _0x3e14e6[_0xda6c22(0x18c)] = _0x2635b6['id']['id'], _0x3e14e6[_0xda6c22(0x1a3)] = _0x2d2510;
                const _0x424284 = {};
                _0x424284[_0xda6c22(0x169)] = _0x3e14e6;
                const _0x30d76f = yield MessageZPRO_1[_0xda6c22(0x1cc)][_0xda6c22(0x175)](_0x424284);
                _0x30d76f && tvbp8dlkc2o_zpro_1[_0xda6c22(0x1b2)][_0xda6c22(0x15e)](_0x5ba867[_0xda6c22(0x1cb)](_0x2635b6['id']['id'], _0x5ba867[_0xda6c22(0x151)]));
                if (!_0x30d76f) {
                    _0x2635b6[_0xda6c22(0x17f)] ? yield (0xbfa + -0x2641 + 0x1 * 0x1a47, VerifyMediaMessageZPRO_1[_0xda6c22(0x1cc)])(_0x2635b6, _0x488df3, _0x5db61f) : yield (-0x538 + -0x82 * 0x37 + 0x2126, VerifyMessageZPRO_1[_0xda6c22(0x1cc)])(_0x2635b6, _0x488df3, _0x5db61f);
                    const _0x541bf5 = {};
                    _0x541bf5[_0xda6c22(0x18c)] = _0x2635b6['id']['id'];
                    const _0x55b1b6 = yield MessageZPRO_1[_0xda6c22(0x1cc)][_0xda6c22(0x175)]({
                        'where': _0x541bf5,
                        'include': [
                            _0x5ba867[_0xda6c22(0x197)],
                            {
                                'model': TicketZPRO_1[_0xda6c22(0x1cc)],
                                'as': _0x5ba867[_0xda6c22(0x16c)],
                                'attributes': [
                                    'id',
                                    _0x5ba867[_0xda6c22(0x1b3)],
                                    _0x5ba867[_0xda6c22(0x18b)]
                                ]
                            },
                            {
                                'model': MessageZPRO_1[_0xda6c22(0x1cc)],
                                'as': _0x5ba867[_0xda6c22(0x16f)],
                                'include': [_0x5ba867[_0xda6c22(0x197)]]
                            }
                        ]
                    });
                    if (_0x55b1b6) {
                        const _0x30c29d = moment_timezone_1[_0xda6c22(0x1cc)][_0xda6c22(0x155)](_0x2635b6[_0xda6c22(0x1ae)])['tz'](_0x5ba867[_0xda6c22(0x166)]), _0xe92762 = _0x30c29d[_0xda6c22(0x1ad)](_0x5ba867[_0xda6c22(0x1c2)]);
                        yield _0x55b1b6[_0xda6c22(0x17b)]({
                            'ack': 0x2,
                            'syncTime': _0x5ba867[_0xda6c22(0x159)],
                            'importedAt': new Date(_0xe92762)
                        });
                        const {ticket: _0x44d7dd} = _0x55b1b6, _0x1ed3e3 = {};
                        _0x1ed3e3[_0xda6c22(0x1a3)] = _0x44d7dd[_0xda6c22(0x1a3)], _0x1ed3e3[_0xda6c22(0x153)] = _0x5ba867[_0xda6c22(0x147)], _0x1ed3e3[_0xda6c22(0x1b9)] = _0x55b1b6, (-0x2 * -0xef5 + 0x10 * 0x244 + -0x160e * 0x3, _6gb8ypf_zpro_1[_0xda6c22(0x1cc)])(_0x1ed3e3);
                        const _0x14ce9b = (-0x11b + -0xb * 0x57 + 0x4d8, d4afpq90v_zpro_1[_0xda6c22(0x1b5)])();
                        _0x14ce9b[_0xda6c22(0x1ca)](_0x2d2510 + (_0xda6c22(0x188) + _0xda6c22(0x156)), {
                            'action': _0x5ba867[_0xda6c22(0x178)],
                            'status': {
                                'this': _0x5db61f[_0xda6c22(0x167)],
                                'all': _0x375169,
                                'date': moment_timezone_1[_0xda6c22(0x1cc)][_0xda6c22(0x155)](_0x2635b6[_0xda6c22(0x1ae)])[_0xda6c22(0x1ad)](_0x5ba867[_0xda6c22(0x1a0)])
                            }
                        });
                    }
                    tvbp8dlkc2o_zpro_1[_0xda6c22(0x1b2)][_0xda6c22(0x15e)](_0x5ba867[_0xda6c22(0x1cb)](_0x5ba867[_0xda6c22(0x1a1)], _0x2635b6['id']['id']));
                }
                yield _0x5ba867[_0xda6c22(0x1be)](delay, -0x134e + -0x1 * 0x1b8e + -0x1f3e * -0x2);
            }
        } catch (_0x3e9b48) {
            tvbp8dlkc2o_zpro_1[_0xda6c22(0x1b2)][_0xda6c22(0x15e)](_0x5ba867[_0xda6c22(0x199)], _0x3e9b48);
        }
    });
function _0x2cb6() {
    const _0x192caa = [
        'done',
        '__importDe',
        'ages',
        'gwBpL',
        '50247WYYwvD',
        'oKkxZ',
        'then',
        'qnjDo',
        'PRO',
        'apiConfig',
        'VerifyCont',
        'wmTJC',
        '1_zpro/d4a',
        'whatsappId',
        'HUkEm',
        'JPqvl',
        'H:mm:ss',
        'tenantId',
        '../../bz7a',
        '\x20already\x20e',
        ':::\x20ZDG\x20::',
        '../TicketS',
        './helpers/',
        'iceZPRO',
        'whatsapp',
        '__awaiter',
        '../../974u',
        'format',
        'timestamp',
        'moment-tim',
        'chat:updat',
        'cKVlZ',
        'logger',
        'VRHnh',
        'fcepk8_zpr',
        'getIO',
        'America/Sa',
        'o_Paulo',
        'value',
        'payload',
        'TicketServ',
        ':\x20Sync\x20mes',
        ':::\x20Z-PRO\x20',
        'fetchMessa',
        'VHppk',
        '40GKqHEL',
        '1245188pvYZZt',
        'unreadCoun',
        'FEKnk',
        'ageZPRO',
        'isSync',
        'ById',
        '15165wyTVyv',
        'kpKtw',
        'channel',
        '\x20HH:mm:ss.',
        'emit',
        'mFzji',
        'default',
        't:\x20',
        'VerifyMedi',
        'PZNHu',
        'TZdnQ',
        'ezone',
        'lnfUA',
        'unreadMess',
        'reverse',
        'ndOrCreate',
        'DWrcs',
        'VerifyMess',
        '9wFVOcG',
        'uScEH',
        '1158832IuAgjD',
        'type',
        'OHEGx',
        'unix',
        'sages',
        '../../3fut',
        'defineProp',
        'YeJdY',
        'ges',
        'ZPRO',
        '1750586MYBxjy',
        'KlbvS',
        'info',
        'sage\x20ticke',
        'xists',
        '../../mode',
        '7tljfp_zpr',
        'synced',
        '../../yshu',
        'next',
        'ZLmpG',
        'number',
        'throw',
        'where',
        'o/6gb8ypf_',
        'SSSZ',
        'rpKtd',
        'bp8dlkc2o_',
        'getChat',
        'mubFN',
        'ttfBp',
        'zpro',
        'apply',
        'contact',
        'DD/MM/YY\x20H',
        'findOne',
        'fpq90v_zpr',
        'mw_zpro/tv',
        'MssRB',
        '9268369NbIXGu',
        'quotedMsg',
        'update',
        'ticket',
        'limit',
        'YYYY-MM-DD',
        'hasMedia',
        '514124dqRIFh',
        '__esModule',
        'getContact',
        'erty',
        'aMessageZP',
        'ervices/Fi',
        ':\x20Sync\x20err',
        'ls/Message',
        ':importMes',
        'or:\x20',
        '2430oCUvlx',
        'sjtVh',
        'messageId',
        'actZPRO',
        'ls/TicketZ',
        'fault',
        '2154khEOQW',
        'o/mbe30_zp'
    ];
    _0x2cb6 = function () {
        return _0x192caa;
    };
    return _0x2cb6();
}
exports[_0x344031(0x1cc)] = SyncOldMessagesByUserWbot;