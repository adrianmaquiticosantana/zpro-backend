'use strict';
const _0x285854 = _0x6fe1;
(function (_0xef265a, _0x13cf48) {
    const _0x416977 = _0x6fe1, _0x5d7020 = _0xef265a();
    while (!![]) {
        try {
            const _0x5219f5 = parseInt(_0x416977(0x19a)) / (0x1b * -0xed + -0x1ee7 + 0x37e7) * (-parseInt(_0x416977(0x1b4)) / (0x903 + -0x1a98 + -0x13 * -0xed)) + -parseInt(_0x416977(0x1db)) / (0x445 + 0x1e14 + -0x2256) + -parseInt(_0x416977(0x1e3)) / (-0xf9f + -0x1d * -0x116 + -0xfdb) + parseInt(_0x416977(0x18f)) / (0x1ffc * -0x1 + 0x1 * -0x221e + 0x421f) * (parseInt(_0x416977(0x1e9)) / (-0x1682 + 0x16c * 0x1a + -0xe70)) + -parseInt(_0x416977(0x1de)) / (0x94f + -0x1125 + 0x7dd) * (-parseInt(_0x416977(0x1ba)) / (-0x2239 + 0x343 * 0x9 + 0x2 * 0x273)) + parseInt(_0x416977(0x19d)) / (-0xbab + -0x2b1 * -0x2 + -0x652 * -0x1) + parseInt(_0x416977(0x1dd)) / (0x1069 + -0x10aa + -0xf * -0x5) * (-parseInt(_0x416977(0x1c9)) / (-0x25 * 0x63 + -0x13 * 0x25 + 0x1119));
            if (_0x5219f5 === _0x13cf48)
                break;
            else
                _0x5d7020['push'](_0x5d7020['shift']());
        } catch (_0xe6a61e) {
            _0x5d7020['push'](_0x5d7020['shift']());
        }
    }
}(_0x1850, -0x11d34 * -0xd + 0x81e36 + 0x2cf * -0x4c1));
function _0x6fe1(_0x8f5137, _0x1528d6) {
    const _0x4f2219 = _0x1850();
    return _0x6fe1 = function (_0x24472d, _0x8ffcc) {
        _0x24472d = _0x24472d - (0x161f + 0x76e + -0x1bff);
        let _0x49215d = _0x4f2219[_0x24472d];
        return _0x49215d;
    }, _0x6fe1(_0x8f5137, _0x1528d6);
}
function _0x1850() {
    const _0x5cca4a = [
        'ls/TenantZ',
        '25FXBYnd',
        'value',
        '__esModule',
        'OJwfZ',
        'include',
        'erty',
        'attributes',
        'sequelize',
        'supervisor',
        'map',
        'wRdbj',
        '2mqtNXB',
        'OSgdW',
        'limit',
        '6350130yarwBm',
        'ZPRO',
        'IyAKT',
        'ROVIDED',
        'RCH_TERM_P',
        'ignedTicke',
        'findOne',
        'ntAll',
        'TRTBN',
        'throw',
        'hpLlc',
        '__importDe',
        'userId',
        'tenantId',
        'osOcW',
        'model',
        '../../tpy7',
        '__awaiter',
        'AMDtR',
        'user',
        'AMxoC',
        'aFJct',
        'done',
        '46502LLjrYh',
        'apply',
        'findAndCou',
        'next',
        'Thkol',
        'CPaUY',
        '338304BINZFW',
        'default',
        'kt9b0_zpro',
        '../../mode',
        'DESC',
        'iLike',
        'ZnVLv',
        'hIyaG',
        'bIonI',
        'kQcnl',
        'ls/Message',
        'then',
        'zgNuL',
        'createdAt',
        'ls/Setting',
        '143hHBDFV',
        'order',
        'toISOStrin',
        'ERR_NO_SEA',
        'NotViewAss',
        'required',
        'ticket',
        'bvZBn',
        'PRO',
        'pCcPS',
        'nbNXa',
        'ls/TicketZ',
        'body',
        'dVFPJ',
        'where',
        'PMtRT',
        'super',
        'tRaKt',
        '1021893kZnBBS',
        'Admin',
        '1227010UZUQTF',
        '147DEcMQo',
        'offset',
        'fault',
        'IlPPr',
        'key',
        '448248WeqQmE',
        'length',
        'D_TENANT_I',
        'enabled',
        'mkezu',
        'defineProp',
        '1328214ocIfOA',
        'disabled',
        'admin',
        'ERR_INVALI',
        'ZVmkS',
        'bTwNI',
        '/rca_zpro'
    ];
    _0x1850 = function () {
        return _0x5cca4a;
    };
    return _0x1850();
}
var __awaiter = this && this[_0x285854(0x1ae)] || function (_0x3ed3b4, _0x1960dc, _0x3a6252, _0x4cd0ba) {
        const _0x27cb3d = _0x285854, _0x5bdf6d = {
                'ZnVLv': function (_0x303442, _0x39b576) {
                    return _0x303442(_0x39b576);
                },
                'wRdbj': function (_0x383801, _0x494ae1) {
                    return _0x383801 instanceof _0x494ae1;
                },
                'bvZBn': function (_0x539b56, _0x37f8ad) {
                    return _0x539b56(_0x37f8ad);
                },
                'Thkol': function (_0x5e816e, _0x12a28d) {
                    return _0x5e816e(_0x12a28d);
                },
                'tRaKt': _0x27cb3d(0x1a6)
            };
        function _0x252078(_0x1b9a2d) {
            const _0x351819 = _0x27cb3d;
            return _0x5bdf6d[_0x351819(0x199)](_0x1b9a2d, _0x3a6252) ? _0x1b9a2d : new _0x3a6252(function (_0x1e75b7) {
                const _0xab0b31 = _0x351819;
                _0x5bdf6d[_0xab0b31(0x1c0)](_0x1e75b7, _0x1b9a2d);
            });
        }
        return new (_0x3a6252 || (_0x3a6252 = Promise))(function (_0x48604e, _0x3fef38) {
            const _0x332f2a = _0x27cb3d, _0x1a691a = {
                    'dVFPJ': function (_0x480121, _0x88fc26) {
                        const _0x1e0fbb = _0x6fe1;
                        return _0x5bdf6d[_0x1e0fbb(0x1d0)](_0x480121, _0x88fc26);
                    },
                    'OJwfZ': function (_0x363dab, _0x540767) {
                        const _0x4d17be = _0x6fe1;
                        return _0x5bdf6d[_0x4d17be(0x1c0)](_0x363dab, _0x540767);
                    }
                };
            function _0x326ea3(_0x4e235c) {
                const _0x55489f = _0x6fe1;
                try {
                    _0x5bdf6d[_0x55489f(0x1d0)](_0x58dbf8, _0x4cd0ba[_0x55489f(0x1b7)](_0x4e235c));
                } catch (_0x5b4cdd) {
                    _0x5bdf6d[_0x55489f(0x1b8)](_0x3fef38, _0x5b4cdd);
                }
            }
            function _0x553c10(_0x354197) {
                const _0xb3b83d = _0x6fe1;
                try {
                    _0x5bdf6d[_0xb3b83d(0x1c0)](_0x58dbf8, _0x4cd0ba[_0x5bdf6d[_0xb3b83d(0x1da)]](_0x354197));
                } catch (_0x4462ce) {
                    _0x5bdf6d[_0xb3b83d(0x1d0)](_0x3fef38, _0x4462ce);
                }
            }
            function _0x58dbf8(_0x1bc3db) {
                const _0x394aec = _0x6fe1;
                _0x1bc3db[_0x394aec(0x1b3)] ? _0x1a691a[_0x394aec(0x1d6)](_0x48604e, _0x1bc3db[_0x394aec(0x190)]) : _0x1a691a[_0x394aec(0x192)](_0x252078, _0x1bc3db[_0x394aec(0x190)])[_0x394aec(0x1c5)](_0x326ea3, _0x553c10);
            }
            _0x5bdf6d[_0x332f2a(0x1b8)](_0x58dbf8, (_0x4cd0ba = _0x4cd0ba[_0x332f2a(0x1b5)](_0x3ed3b4, _0x1960dc || []))[_0x332f2a(0x1b7)]());
        });
    }, __importDefault = this && this[_0x285854(0x1a8) + _0x285854(0x1e0)] || function (_0x5b96e7) {
        const _0x27e3b6 = _0x285854;
        return _0x5b96e7 && _0x5b96e7[_0x27e3b6(0x191)] ? _0x5b96e7 : { 'default': _0x5b96e7 };
    };
const _0x4aaa66 = {};
_0x4aaa66[_0x285854(0x190)] = !![], Object[_0x285854(0x1e8) + _0x285854(0x194)](exports, _0x285854(0x191), _0x4aaa66);
const rca_zpro_1 = __importDefault(require(_0x285854(0x1ad) + _0x285854(0x1bc) + _0x285854(0x1ef))), MessageZPRO_1 = __importDefault(require(_0x285854(0x1bd) + _0x285854(0x1c4) + _0x285854(0x19e))), TicketZPRO_1 = __importDefault(require(_0x285854(0x1bd) + _0x285854(0x1d4) + _0x285854(0x1d1))), SettingZPRO_1 = __importDefault(require(_0x285854(0x1bd) + _0x285854(0x1c8) + _0x285854(0x19e))), TenantZPRO_1 = __importDefault(require(_0x285854(0x1bd) + _0x285854(0x18e) + _0x285854(0x1d1))), sequelize_1 = require(_0x285854(0x196)), SearchMessagesService = ({
        searchTerm: _0x17a35a,
        tenantId: _0x13afe7,
        pageNumber: pageNumber = '1',
        userId: _0x4e44f1,
        profile: _0x23dc41
    }) => __awaiter(void (0x25d8 + 0xfcb * 0x1 + -0x35a3 * 0x1), void (0x5b2 * -0x3 + 0x8 * 0x257 + 0x1 * -0x1a2), void (-0x1a88 + 0x5 * 0x175 + 0xd * 0x17b), function* () {
        const _0x4d61c5 = _0x285854, _0x190d71 = {
                'pCcPS': _0x4d61c5(0x1cc) + _0x4d61c5(0x1a1) + _0x4d61c5(0x1a0),
                'osOcW': function (_0x14b5be, _0x84b432) {
                    return _0x14b5be * _0x84b432;
                },
                'hpLlc': function (_0x560273, _0x14679c) {
                    return _0x560273 - _0x14679c;
                },
                'IlPPr': function (_0x1b393e, _0x7157, _0x26c413) {
                    return _0x1b393e(_0x7157, _0x26c413);
                },
                'hIyaG': function (_0x28bdff, _0x3ab52c) {
                    return _0x28bdff(_0x3ab52c);
                },
                'nbNXa': _0x4d61c5(0x1ec) + _0x4d61c5(0x1e5) + 'D',
                'bTwNI': _0x4d61c5(0x197) + _0x4d61c5(0x1dc),
                'aFJct': _0x4d61c5(0x1cd) + _0x4d61c5(0x1a2) + 'ts',
                'ZVmkS': function (_0x263153, _0x55e8fc) {
                    return _0x263153 === _0x55e8fc;
                },
                'AMDtR': _0x4d61c5(0x1e6),
                'OSgdW': _0x4d61c5(0x1eb),
                'CPaUY': _0x4d61c5(0x1d9),
                'TRTBN': function (_0xfee765, _0x1c35c4) {
                    return _0xfee765 === _0x1c35c4;
                },
                'bIonI': function (_0x142b00, _0x1ccb0c) {
                    return _0x142b00 === _0x1ccb0c;
                },
                'kQcnl': _0x4d61c5(0x1ea),
                'AMxoC': _0x4d61c5(0x1b0),
                'IyAKT': _0x4d61c5(0x1c7),
                'PMtRT': _0x4d61c5(0x1be),
                'mkezu': function (_0xd774bc, _0x4b1b27) {
                    return _0xd774bc > _0x4b1b27;
                },
                'zgNuL': function (_0x4609b7, _0x1a35df) {
                    return _0x4609b7 + _0x1a35df;
                }
            };
        if (!_0x17a35a)
            throw new rca_zpro_1[(_0x4d61c5(0x1bb))](_0x190d71[_0x4d61c5(0x1d2)], -0x5b * -0x1c + 0x3ed * 0x4 + -0x404 * 0x6);
        const _0x4b6dcb = -0x153c + -0x24bb * 0x1 + 0x1cfd * 0x2, _0x5e1575 = _0x190d71[_0x4d61c5(0x1ab)](_0x4b6dcb, _0x190d71[_0x4d61c5(0x1a7)](_0x190d71[_0x4d61c5(0x1e1)](parseInt, pageNumber, 0xaef + -0x1 * -0x20f9 + -0x2bde), -0x23 * 0x20 + -0x5b7 + 0xa18)), _0x28d6ca = _0x190d71[_0x4d61c5(0x1e1)](parseInt, _0x13afe7, 0x1 * 0xfb5 + -0x16e3 + 0x738);
        if (_0x190d71[_0x4d61c5(0x1c1)](isNaN, _0x28d6ca))
            throw new rca_zpro_1[(_0x4d61c5(0x1bb))](_0x190d71[_0x4d61c5(0x1d3)], -0x1e52 + 0xce + 0xcc * 0x27);
        const _0x10c1b5 = {};
        _0x10c1b5['id'] = _0x28d6ca;
        const _0x2456c6 = {};
        _0x2456c6[_0x4d61c5(0x1d7)] = _0x10c1b5, _0x2456c6[_0x4d61c5(0x195)] = [_0x190d71[_0x4d61c5(0x1ee)]];
        const _0x169b8c = yield TenantZPRO_1[_0x4d61c5(0x1bb)][_0x4d61c5(0x1a3)](_0x2456c6), _0x114fef = {};
        _0x114fef[_0x4d61c5(0x1aa)] = _0x28d6ca, _0x114fef[_0x4d61c5(0x1e2)] = _0x190d71[_0x4d61c5(0x1b2)];
        const _0x91a83f = {};
        _0x91a83f[_0x4d61c5(0x1d7)] = _0x114fef;
        const _0x1a3c52 = yield SettingZPRO_1[_0x4d61c5(0x1bb)][_0x4d61c5(0x1a3)](_0x91a83f), _0x17dd02 = _0x190d71[_0x4d61c5(0x1ed)](_0x190d71[_0x4d61c5(0x1ed)](_0x1a3c52, null) || _0x190d71[_0x4d61c5(0x1ed)](_0x1a3c52, void (0x1d3a + 0x1848 + -0x3582)) ? void (-0xe3e + -0x1 * 0xec3 + -0xf * -0x1ef) : _0x1a3c52[_0x4d61c5(0x190)], _0x190d71[_0x4d61c5(0x1af)]), _0xc60513 = {};
        _0xc60513[_0x4d61c5(0x1aa)] = _0x28d6ca;
        let _0x3bdb89 = _0xc60513;
        if (_0x190d71[_0x4d61c5(0x1ed)](_0x23dc41, _0x190d71[_0x4d61c5(0x19b)])) {
        } else {
            if (_0x190d71[_0x4d61c5(0x1ed)](_0x23dc41, _0x190d71[_0x4d61c5(0x1b9)])) {
                if (_0x190d71[_0x4d61c5(0x1ed)](_0x190d71[_0x4d61c5(0x1a5)](_0x169b8c, null) || _0x190d71[_0x4d61c5(0x1c2)](_0x169b8c, void (0x1725 + 0x1b * 0x15 + 0x1 * -0x195c)) ? void (-0x1 * -0x1561 + 0x47a + -0x19db) : _0x169b8c[_0x4d61c5(0x197) + _0x4d61c5(0x1dc)], _0x190d71[_0x4d61c5(0x1c3)])) {
                } else
                    _0x3bdb89[_0x4d61c5(0x1a9)] = _0x4e44f1;
            } else {
                if (_0x190d71[_0x4d61c5(0x1a5)](_0x23dc41, _0x190d71[_0x4d61c5(0x1b1)])) {
                    if (_0x17dd02)
                        _0x3bdb89[_0x4d61c5(0x1a9)] = _0x4e44f1;
                    else {
                    }
                }
            }
        }
        const _0x1775af = { [sequelize_1['Op'][_0x4d61c5(0x1bf)]]: '%' + _0x17a35a + '%' }, _0x25f6de = {};
        _0x25f6de[_0x4d61c5(0x1d5)] = _0x1775af;
        const _0x5e291f = {};
        _0x5e291f[_0x4d61c5(0x1ac)] = TicketZPRO_1[_0x4d61c5(0x1bb)], _0x5e291f[_0x4d61c5(0x1d7)] = _0x3bdb89, _0x5e291f[_0x4d61c5(0x1ce)] = !![];
        const _0xb63380 = {};
        _0xb63380[_0x4d61c5(0x1d7)] = _0x25f6de, _0xb63380[_0x4d61c5(0x193)] = [_0x5e291f], _0xb63380[_0x4d61c5(0x19c)] = _0x4b6dcb, _0xb63380[_0x4d61c5(0x1df)] = _0x5e1575, _0xb63380[_0x4d61c5(0x1ca)] = [[
                _0x190d71[_0x4d61c5(0x19f)],
                _0x190d71[_0x4d61c5(0x1d8)]
            ]];
        const {
                count: _0x5cda09,
                rows: _0x498300
            } = yield MessageZPRO_1[_0x4d61c5(0x1bb)][_0x4d61c5(0x1b6) + _0x4d61c5(0x1a4)](_0xb63380), _0x276708 = _0x498300[_0x4d61c5(0x198)](_0x625153 => ({
                'ticket': _0x625153[_0x4d61c5(0x1cf)],
                'lastMessageTimestamp': _0x625153[_0x4d61c5(0x1c7)][_0x4d61c5(0x1cb) + 'g']()
            }));
        return {
            'tickets': _0x276708,
            'count': _0x5cda09,
            'hasMore': _0x190d71[_0x4d61c5(0x1e7)](_0x5cda09, _0x190d71[_0x4d61c5(0x1c6)](_0x5e1575, _0x498300[_0x4d61c5(0x1e4)]))
        };
    });
exports[_0x285854(0x1bb)] = SearchMessagesService;