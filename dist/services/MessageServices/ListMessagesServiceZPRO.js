'use strict';
const _0x55b571 = _0x8d01;
function _0x8d01(_0x116777, _0x5824f9) {
    const _0x55d815 = _0x3c42();
    return _0x8d01 = function (_0x173c05, _0x83fe7a) {
        _0x173c05 = _0x173c05 - (-0x12b * -0x3 + -0x10ed + -0x1 * -0xe1b);
        let _0x5c2cf8 = _0x55d815[_0x173c05];
        return _0x5c2cf8;
    }, _0x8d01(_0x116777, _0x5824f9);
}
(function (_0x531af4, _0x512730) {
    const _0x50ff29 = _0x8d01, _0x174c05 = _0x531af4();
    while (!![]) {
        try {
            const _0x33285c = -parseInt(_0x50ff29(0xe9)) / (0x237 + 0x1 * 0x131b + -0x1551) * (parseInt(_0x50ff29(0xea)) / (0x77 * 0x47 + 0x1b * -0xe4 + -0x1d * 0x4f)) + -parseInt(_0x50ff29(0xdd)) / (0xf38 + -0xc * 0x2ea + -0x13c3 * -0x1) * (parseInt(_0x50ff29(0xfc)) / (0xd72 + 0x1 * -0x25f + -0xb0f)) + parseInt(_0x50ff29(0xed)) / (0x1 * 0xad + -0x1369 + -0x1 * -0x12c1) + -parseInt(_0x50ff29(0xfe)) / (0x3d7 * 0x1 + 0x211b + -0x1 * 0x24ec) * (-parseInt(_0x50ff29(0xec)) / (-0x191e + 0x20b3 + 0x1 * -0x78e)) + parseInt(_0x50ff29(0xde)) / (0x1 * -0x183b + -0x1ffb + 0x2e * 0x139) + parseInt(_0x50ff29(0x10e)) / (-0xeff + -0x2390 + 0x3298) * (-parseInt(_0x50ff29(0xdb)) / (-0x2064 + 0x1 * 0x12e9 + 0xd85)) + -parseInt(_0x50ff29(0xba)) / (0x17e0 + -0xc54 + -0xb81) * (-parseInt(_0x50ff29(0x10d)) / (0x1c1e + -0xeaa + -0xd68));
            if (_0x33285c === _0x512730)
                break;
            else
                _0x174c05['push'](_0x174c05['shift']());
        } catch (_0x47d90d) {
            _0x174c05['push'](_0x174c05['shift']());
        }
    }
}(_0x3c42, -0x7c * -0x2f31 + -0x7c6 + -0x1 * 0x8b65a));
var __awaiter = this && this[_0x55b571(0xfa)] || function (_0x3b7aa5, _0x52ea7b, _0x507cd4, _0x3e8a6a) {
        const _0x4037e7 = _0x55b571, _0x45bb14 = {
                'twagW': function (_0x4190d5, _0x5f5346) {
                    return _0x4190d5(_0x5f5346);
                },
                'zqHzM': function (_0x257110, _0x106910) {
                    return _0x257110 instanceof _0x106910;
                },
                'OEHBp': function (_0xdcb5e5, _0x26b06d) {
                    return _0xdcb5e5(_0x26b06d);
                },
                'DPfkR': function (_0x50ce0c, _0x95ff64) {
                    return _0x50ce0c(_0x95ff64);
                },
                'pSzhq': function (_0x4a5a66, _0x46b825) {
                    return _0x4a5a66(_0x46b825);
                },
                'daVlx': function (_0x54b06e, _0x40b72d) {
                    return _0x54b06e(_0x40b72d);
                },
                'ydxnj': _0x4037e7(0xd4),
                'cmsXc': function (_0x5f3833, _0x427df4) {
                    return _0x5f3833(_0x427df4);
                },
                'AMihF': function (_0x5229ca, _0x42c947) {
                    return _0x5229ca(_0x42c947);
                }
            };
        function _0x30dfe9(_0x2fe055) {
            const _0x55382b = _0x4037e7, _0x533fe0 = {
                    'LqpPt': function (_0x47a978, _0x49a154) {
                        const _0x4f205c = _0x8d01;
                        return _0x45bb14[_0x4f205c(0xcb)](_0x47a978, _0x49a154);
                    }
                };
            return _0x45bb14[_0x55382b(0xc9)](_0x2fe055, _0x507cd4) ? _0x2fe055 : new _0x507cd4(function (_0x7229b7) {
                const _0x50efd9 = _0x55382b;
                _0x533fe0[_0x50efd9(0xb0)](_0x7229b7, _0x2fe055);
            });
        }
        return new (_0x507cd4 || (_0x507cd4 = Promise))(function (_0x48195d, _0x38bb90) {
            const _0x2164be = _0x4037e7, _0x43dcad = {
                    'GXTpv': function (_0x5e7b24, _0x24b863) {
                        const _0x11bb5c = _0x8d01;
                        return _0x45bb14[_0x11bb5c(0xc3)](_0x5e7b24, _0x24b863);
                    },
                    'zVUkd': _0x45bb14[_0x2164be(0xcf)],
                    'ZOYLd': function (_0x1a0fe5, _0x15f183) {
                        const _0xb66094 = _0x2164be;
                        return _0x45bb14[_0xb66094(0x104)](_0x1a0fe5, _0x15f183);
                    }
                };
            function _0x436292(_0x390708) {
                const _0x268d25 = _0x2164be;
                try {
                    _0x45bb14[_0x268d25(0xc4)](_0x31129e, _0x3e8a6a[_0x268d25(0xeb)](_0x390708));
                } catch (_0x315239) {
                    _0x45bb14[_0x268d25(0xcc)](_0x38bb90, _0x315239);
                }
            }
            function _0x63335d(_0x1dc728) {
                const _0x266f1e = _0x2164be;
                try {
                    _0x43dcad[_0x266f1e(0xe4)](_0x31129e, _0x3e8a6a[_0x43dcad[_0x266f1e(0xe0)]](_0x1dc728));
                } catch (_0x507177) {
                    _0x43dcad[_0x266f1e(0xe7)](_0x38bb90, _0x507177);
                }
            }
            function _0x31129e(_0x21ed99) {
                const _0x2e5827 = _0x2164be;
                _0x21ed99[_0x2e5827(0xf5)] ? _0x45bb14[_0x2e5827(0xcc)](_0x48195d, _0x21ed99[_0x2e5827(0x10c)]) : _0x45bb14[_0x2e5827(0xd9)](_0x30dfe9, _0x21ed99[_0x2e5827(0x10c)])[_0x2e5827(0xbe)](_0x436292, _0x63335d);
            }
            _0x45bb14[_0x2164be(0xda)](_0x31129e, (_0x3e8a6a = _0x3e8a6a[_0x2164be(0xb1)](_0x3b7aa5, _0x52ea7b || []))[_0x2164be(0xeb)]());
        });
    }, __importDefault = this && this[_0x55b571(0xbc) + _0x55b571(0x102)] || function (_0x1c79c7) {
        const _0x8022c5 = _0x55b571;
        return _0x1c79c7 && _0x1c79c7[_0x8022c5(0xf8)] ? _0x1c79c7 : { 'default': _0x1c79c7 };
    };
function _0x3c42() {
    const _0x4b8091 = [
        '76WCFWUb',
        'bRStF',
        '1286346QzOqRM',
        'SmkyE',
        'uNGli',
        'owTicketSe',
        'fault',
        'tzNDF',
        'cmsXc',
        '../TicketS',
        'MBEED',
        'eJtru',
        'enabled',
        'ls/UserZPR',
        'OffLineZPR',
        'attributes',
        'value',
        '5868jtvuaK',
        '171fhSUrR',
        'quotedMsg',
        'name',
        'default',
        'length',
        'ntAll',
        'ZPRO',
        'LqpPt',
        'apply',
        'KabtO',
        'DESC',
        'ls/Message',
        'zaOjk',
        'order',
        'ticketId',
        'erty',
        'VedPu',
        '13057UBBJbl',
        'ERR_NO_TIC',
        '__importDe',
        'yUNns',
        'then',
        'Url',
        'contact',
        'number',
        'ls/Contact',
        'daVlx',
        'OEHBp',
        'KET_FOUND_',
        'MWUOF',
        'PRO',
        'pHjyh',
        'zqHzM',
        'findAndCou',
        'twagW',
        'DPfkR',
        'createdAt',
        '/rca_zpro',
        'ydxnj',
        'eChwE',
        'whatsappId',
        'STgEn',
        'rviceZPRO',
        'throw',
        'contactId',
        'ls/TenantZ',
        'mBlyu',
        'vLMYp',
        'pSzhq',
        'AMihF',
        '410680tynbhm',
        'ZDdnZ',
        '38517EJcxuU',
        '5098128GwHahT',
        'ZJxxL',
        'zVUkd',
        'user',
        'tenantId',
        'include',
        'GXTpv',
        'ervices/Sh',
        '../../mode',
        'ZOYLd',
        'RmTvt',
        '2JkfUuM',
        '1007978TqVnTf',
        'next',
        '35cpJhEA',
        '3338155FyHyCd',
        'ls/TicketZ',
        'nQMvN',
        'groupTicke',
        'reverse',
        'queueId',
        'where',
        'defineProp',
        'done',
        'profilePic',
        'kt9b0_zpro',
        '__esModule',
        'findOne',
        '__awaiter',
        '../../tpy7'
    ];
    _0x3c42 = function () {
        return _0x4b8091;
    };
    return _0x3c42();
}
const _0x49c154 = {};
_0x49c154[_0x55b571(0x10c)] = !![], Object[_0x55b571(0xf4) + _0x55b571(0xb8)](exports, _0x55b571(0xf8), _0x49c154);
const rca_zpro_1 = __importDefault(require(_0x55b571(0xfb) + _0x55b571(0xf7) + _0x55b571(0xce))), MessageZPRO_1 = __importDefault(require(_0x55b571(0xe6) + _0x55b571(0xb4) + _0x55b571(0xaf))), MessageOffLineZPRO_1 = __importDefault(require(_0x55b571(0xe6) + _0x55b571(0xb4) + _0x55b571(0x10a) + 'O')), TicketZPRO_1 = __importDefault(require(_0x55b571(0xe6) + _0x55b571(0xee) + _0x55b571(0xc7))), ShowTicketServiceZPRO_1 = __importDefault(require(_0x55b571(0x105) + _0x55b571(0xe5) + _0x55b571(0x101) + _0x55b571(0xd3))), TenantZPRO_1 = __importDefault(require(_0x55b571(0xe6) + _0x55b571(0xd6) + _0x55b571(0xc7))), UserZPRO_1 = __importDefault(require(_0x55b571(0xe6) + _0x55b571(0x109) + 'O')), ContactZPRO_1 = __importDefault(require(_0x55b571(0xe6) + _0x55b571(0xc2) + _0x55b571(0xaf))), ListMessagesService = ({
        pageNumber: pageNumber = '1',
        ticketId: _0x4a84e9,
        tenantId: _0x4e4efe
    }) => __awaiter(void (0x2 * 0x12f1 + 0x7d * 0x4d + -0x4b7b), void (0x1b6 * -0x6 + -0x173 * 0x11 + 0x22e7), void (-0x1cf0 * -0x1 + 0x99b + -0x268b), function* () {
        const _0x388523 = _0x55b571, _0x47505a = {};
        _0x47505a[_0x388523(0xd8)] = _0x388523(0xbb) + _0x388523(0xc5) + '26', _0x47505a[_0x388523(0x107)] = _0x388523(0xf0) + 'ts', _0x47505a[_0x388523(0xef)] = function (_0xd26941, _0xe00d98) {
            return _0xd26941 === _0xe00d98;
        }, _0x47505a[_0x388523(0xc8)] = _0x388523(0x108), _0x47505a[_0x388523(0xd7)] = function (_0x248ade, _0x492564) {
            return _0x248ade * _0x492564;
        }, _0x47505a[_0x388523(0xb9)] = function (_0x2afbd4, _0x11c8cd) {
            return _0x2afbd4 - _0x11c8cd;
        }, _0x47505a[_0x388523(0xd0)] = _0x388523(0xc0), _0x47505a[_0x388523(0xc6)] = _0x388523(0x10f), _0x47505a[_0x388523(0x100)] = _0x388523(0x110), _0x47505a[_0x388523(0xe8)] = _0x388523(0xc1), _0x47505a[_0x388523(0xff)] = _0x388523(0xf6) + _0x388523(0xbf), _0x47505a[_0x388523(0xb2)] = _0x388523(0xf2), _0x47505a[_0x388523(0xdf)] = _0x388523(0xd5), _0x47505a[_0x388523(0x103)] = _0x388523(0xd1), _0x47505a[_0x388523(0xd2)] = _0x388523(0xe1), _0x47505a[_0x388523(0xbd)] = _0x388523(0xcd), _0x47505a[_0x388523(0x106)] = _0x388523(0xb3), _0x47505a[_0x388523(0xfd)] = function (_0x1a18a2, _0x47131e) {
            return _0x1a18a2 === _0x47131e;
        }, _0x47505a[_0x388523(0xb5)] = function (_0x2514c0, _0x4d1900) {
            return _0x2514c0 > _0x4d1900;
        }, _0x47505a[_0x388523(0xdc)] = function (_0x147609, _0xe56836) {
            return _0x147609 + _0xe56836;
        };
        const _0x276d7 = _0x47505a, _0x2c40cf = {};
        _0x2c40cf['id'] = _0x4a84e9, _0x2c40cf[_0x388523(0xe2)] = _0x4e4efe;
        const _0x319bce = yield (0x548 + -0x887 * 0x4 + 0x12 * 0x19a, ShowTicketServiceZPRO_1[_0x388523(0x111)])(_0x2c40cf);
        if (!_0x319bce)
            throw new rca_zpro_1[(_0x388523(0x111))](_0x276d7[_0x388523(0xd8)], 0xd92 + 0x791 + -0x1 * 0x138f);
        const _0xa4a614 = {};
        _0xa4a614['id'] = _0x4e4efe;
        const _0x1e5153 = {};
        _0x1e5153[_0x388523(0xf3)] = _0xa4a614, _0x1e5153[_0x388523(0x10b)] = [_0x276d7[_0x388523(0x107)]];
        const _0x1af936 = yield TenantZPRO_1[_0x388523(0x111)][_0x388523(0xf9)](_0x1e5153), _0x524a57 = {};
        _0x524a57[_0x388523(0xf2)] = _0x319bce[_0x388523(0xf2)], _0x524a57[_0x388523(0xd5)] = _0x319bce[_0x388523(0xd5)], _0x524a57[_0x388523(0xd1)] = _0x319bce[_0x388523(0xd1)];
        let _0xdd368e = _0x524a57;
        _0x276d7[_0x388523(0xef)](_0x276d7[_0x388523(0xef)](_0x1af936, null) || _0x276d7[_0x388523(0xef)](_0x1af936, void (-0x2610 + 0xf63 + 0x16ad)) ? void (0x1a * -0x15b + 0x1547 + -0x2cb * -0x5) : _0x1af936[_0x388523(0xf0) + 'ts'], _0x276d7[_0x388523(0xc8)]) && delete _0xdd368e[_0x388523(0xf2)];
        const _0x1dd200 = 0xe1f + 0x169e + -0x753 * 0x5, _0x454ccb = _0x276d7[_0x388523(0xd7)](_0x1dd200, _0x276d7[_0x388523(0xb9)](+pageNumber, -0x5 * 0xe8 + -0x15 + 0x49e * 0x1)), {
                count: _0x36639e,
                rows: _0xa38308
            } = yield MessageZPRO_1[_0x388523(0x111)][_0x388523(0xca) + _0x388523(0x113)]({
                'limit': _0x1dd200,
                'include': [
                    _0x276d7[_0x388523(0xd0)],
                    {
                        'model': MessageZPRO_1[_0x388523(0x111)],
                        'as': _0x276d7[_0x388523(0xc6)],
                        'include': [{
                                'model': ContactZPRO_1[_0x388523(0x111)],
                                'as': _0x276d7[_0x388523(0xd0)],
                                'attributes': [
                                    'id',
                                    _0x276d7[_0x388523(0x100)],
                                    _0x276d7[_0x388523(0xe8)],
                                    _0x276d7[_0x388523(0xff)]
                                ]
                            }]
                    },
                    {
                        'model': TicketZPRO_1[_0x388523(0x111)],
                        'where': _0xdd368e,
                        'required': !![],
                        'attributes': {
                            'include': [
                                'id',
                                _0x276d7[_0x388523(0xb2)],
                                _0x276d7[_0x388523(0xdf)],
                                _0x276d7[_0x388523(0x103)]
                            ]
                        },
                        'include': [{
                                'model': UserZPRO_1[_0x388523(0x111)],
                                'as': _0x276d7[_0x388523(0xd2)],
                                'attributes': [
                                    'id',
                                    _0x276d7[_0x388523(0x100)]
                                ]
                            }]
                    },
                    {
                        'model': UserZPRO_1[_0x388523(0x111)],
                        'attributes': [_0x276d7[_0x388523(0x100)]]
                    }
                ],
                'offset': _0x454ccb,
                'order': [[
                        _0x276d7[_0x388523(0xbd)],
                        _0x276d7[_0x388523(0x106)]
                    ]]
            });
        let _0x463163 = [];
        if (_0x276d7[_0x388523(0xfd)](+pageNumber, 0x22b0 + 0x17 * -0x8f + -0x15d6)) {
            const _0x34f5a9 = {};
            _0x34f5a9[_0x388523(0xb7)] = _0x4a84e9;
            const _0x452127 = {};
            _0x452127[_0x388523(0xf3)] = _0x34f5a9, _0x452127[_0x388523(0xe3)] = [
                _0x276d7[_0x388523(0xd0)],
                {
                    'model': MessageZPRO_1[_0x388523(0x111)],
                    'as': _0x276d7[_0x388523(0xc6)],
                    'include': [_0x276d7[_0x388523(0xd0)]]
                }
            ], _0x452127[_0x388523(0xb6)] = [[
                    _0x276d7[_0x388523(0xbd)],
                    _0x276d7[_0x388523(0x106)]
                ]];
            const {rows: _0x56b671} = yield MessageOffLineZPRO_1[_0x388523(0x111)][_0x388523(0xca) + _0x388523(0x113)](_0x452127);
            _0x463163 = _0x56b671;
        }
        const _0x5e7b27 = _0x276d7[_0x388523(0xb5)](_0x36639e, _0x276d7[_0x388523(0xdc)](_0x454ccb, _0xa38308[_0x388523(0x112)]));
        return {
            'messages': _0xa38308[_0x388523(0xf1)](),
            'messagesOffLine': _0x463163,
            'ticket': _0x319bce,
            'count': _0x36639e,
            'hasMore': _0x5e7b27
        };
    });
exports[_0x55b571(0x111)] = ListMessagesService;