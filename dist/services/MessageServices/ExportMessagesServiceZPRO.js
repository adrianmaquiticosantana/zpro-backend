'use strict';
const _0x3f0970 = _0x16e7;
(function (_0xcc4239, _0x51339c) {
    const _0x369560 = _0x16e7, _0x95f362 = _0xcc4239();
    while (!![]) {
        try {
            const _0x344023 = -parseInt(_0x369560(0x1ec)) / (-0x2642 + 0x1cd1 + 0x972) * (parseInt(_0x369560(0x201)) / (-0x6 * 0x199 + 0x238d + -0x3 * 0x8a7)) + -parseInt(_0x369560(0x212)) / (0x1 * 0x165b + -0x25 * -0x37 + 0x1e4b * -0x1) + parseInt(_0x369560(0x200)) / (0x14 * -0xe2 + -0x1f4b * 0x1 + 0x30f7) * (-parseInt(_0x369560(0x207)) / (-0x2623 * 0x1 + 0xef4 + -0x24 * -0xa5)) + parseInt(_0x369560(0x1d9)) / (-0x1 * 0x524 + 0xfb6 * 0x1 + 0x32 * -0x36) + parseInt(_0x369560(0x1f1)) / (-0xb3 * -0x7 + 0x45 * -0xf + -0xd3) + parseInt(_0x369560(0x20d)) / (0x1e3b + -0x15b1 + -0x6 * 0x16b) * (parseInt(_0x369560(0x1f2)) / (0x1c1e + -0xd7a + -0xe9b * 0x1)) + -parseInt(_0x369560(0x1fd)) / (0x23e0 + 0x521 * 0x2 + -0x2e18) * (parseInt(_0x369560(0x1f6)) / (-0x194 + -0x2 * -0xd46 + 0x84f * -0x3));
            if (_0x344023 === _0x51339c)
                break;
            else
                _0x95f362['push'](_0x95f362['shift']());
        } catch (_0x2efedd) {
            _0x95f362['push'](_0x95f362['shift']());
        }
    }
}(_0xb2c9, 0x2f8c3 * 0x1 + -0x19e6e + 0xa16 * 0x5));
var __awaiter = this && this[_0x3f0970(0x20a)] || function (_0x2e6515, _0x5b91cc, _0x3ad1e4, _0x3e473e) {
        const _0x3c360a = _0x3f0970, _0x245a95 = {
                'IisSg': function (_0x248661, _0x5ac48f) {
                    return _0x248661(_0x5ac48f);
                },
                'UjWOn': function (_0x354c33, _0x10b948) {
                    return _0x354c33 instanceof _0x10b948;
                },
                'SfyLJ': function (_0x9142e6, _0x222e16) {
                    return _0x9142e6(_0x222e16);
                },
                'RRdLz': _0x3c360a(0x1ce),
                'bohPs': function (_0x3c0a96, _0x38d206) {
                    return _0x3c0a96(_0x38d206);
                }
            };
        function _0x3df1d9(_0x1b3de3) {
            const _0x34f9e0 = _0x3c360a;
            return _0x245a95[_0x34f9e0(0x20b)](_0x1b3de3, _0x3ad1e4) ? _0x1b3de3 : new _0x3ad1e4(function (_0x38ec6b) {
                const _0x14f558 = _0x34f9e0;
                _0x245a95[_0x14f558(0x1cb)](_0x38ec6b, _0x1b3de3);
            });
        }
        return new (_0x3ad1e4 || (_0x3ad1e4 = Promise))(function (_0x5ae722, _0x20ab00) {
            const _0xcddc35 = _0x3c360a, _0x29b93a = {
                    'CqRzo': function (_0x1fd9e1, _0x585a46) {
                        const _0x5cfb10 = _0x16e7;
                        return _0x245a95[_0x5cfb10(0x1cb)](_0x1fd9e1, _0x585a46);
                    },
                    'CkNJj': _0x245a95[_0xcddc35(0x1fe)]
                };
            function _0x58fa6e(_0x4370e9) {
                const _0x2ce2e0 = _0xcddc35;
                try {
                    _0x29b93a[_0x2ce2e0(0x1e3)](_0x4d68cf, _0x3e473e[_0x2ce2e0(0x214)](_0x4370e9));
                } catch (_0x2adb36) {
                    _0x29b93a[_0x2ce2e0(0x1e3)](_0x20ab00, _0x2adb36);
                }
            }
            function _0x1f4df5(_0x4397b8) {
                const _0x5d2cb8 = _0xcddc35;
                try {
                    _0x29b93a[_0x5d2cb8(0x1e3)](_0x4d68cf, _0x3e473e[_0x29b93a[_0x5d2cb8(0x1d1)]](_0x4397b8));
                } catch (_0x174eac) {
                    _0x29b93a[_0x5d2cb8(0x1e3)](_0x20ab00, _0x174eac);
                }
            }
            function _0x4d68cf(_0x2d98d2) {
                const _0x42742e = _0xcddc35;
                _0x2d98d2[_0x42742e(0x204)] ? _0x245a95[_0x42742e(0x1cb)](_0x5ae722, _0x2d98d2[_0x42742e(0x1d2)]) : _0x245a95[_0x42742e(0x1d7)](_0x3df1d9, _0x2d98d2[_0x42742e(0x1d2)])[_0x42742e(0x1d4)](_0x58fa6e, _0x1f4df5);
            }
            _0x245a95[_0xcddc35(0x1f5)](_0x4d68cf, (_0x3e473e = _0x3e473e[_0xcddc35(0x1de)](_0x2e6515, _0x5b91cc || []))[_0xcddc35(0x214)]());
        });
    }, __importDefault = this && this[_0x3f0970(0x1ed) + _0x3f0970(0x1e1)] || function (_0x5197db) {
        const _0x34f5fe = _0x3f0970;
        return _0x5197db && _0x5197db[_0x34f5fe(0x20f)] ? _0x5197db : { 'default': _0x5197db };
    };
const _0xe57e25 = {};
function _0xb2c9() {
    const _0x4c2f15 = [
        'where',
        'anWzP',
        'user',
        'ERR_NO_TIC',
        '../../mode',
        'ntAll',
        'ervices/Sh',
        'qYoSy',
        '3uuEAsM',
        '__importDe',
        'findAndCou',
        'daqvB',
        'maPsG',
        '399119fPJFNl',
        '1899xondhQ',
        'Url',
        'HJvQF',
        'bohPs',
        '16951YqUvlM',
        'rviceZPRO',
        'OffLineZPR',
        'createdAt',
        'ASC',
        'ZPRO',
        'KET_FOUND_',
        '430ciUrPO',
        'RRdLz',
        '/rca_zpro',
        '4808HtWfDx',
        '2876NFjeTJ',
        'contactId',
        'mUVTB',
        'done',
        'tenantId',
        'ticketId',
        '645mZiaKp',
        'ls/Contact',
        'TEzPB',
        '__awaiter',
        'UjWOn',
        'lvEUt',
        '6952oKwWRi',
        'whatsappId',
        '__esModule',
        'contact',
        'name',
        '279087lqSWLm',
        'PRO',
        'next',
        'ls/TicketZ',
        'default',
        'include',
        'rgYuZ',
        '../../tpy7',
        'erty',
        'IisSg',
        'QGoHO',
        'queueId',
        'throw',
        'quotedMsg',
        'order',
        'CkNJj',
        'value',
        'owTicketSe',
        'then',
        'ls/UserZPR',
        'reverse',
        'SfyLJ',
        'defineProp',
        '1079154XKGLRB',
        'jABrk',
        'profilePic',
        'iNnga',
        'kt9b0_zpro',
        'apply',
        '../TicketS',
        'ls/Message',
        'fault',
        'number',
        'CqRzo'
    ];
    _0xb2c9 = function () {
        return _0x4c2f15;
    };
    return _0xb2c9();
}
_0xe57e25[_0x3f0970(0x1d2)] = !![], Object[_0x3f0970(0x1d8) + _0x3f0970(0x1ca)](exports, _0x3f0970(0x20f), _0xe57e25);
function _0x16e7(_0x37c01a, _0x1e5e43) {
    const _0x2e386e = _0xb2c9();
    return _0x16e7 = function (_0x522739, _0x553779) {
        _0x522739 = _0x522739 - (-0x832 + 0x11a6 + -0x3d7 * 0x2);
        let _0x4ed1a1 = _0x2e386e[_0x522739];
        return _0x4ed1a1;
    }, _0x16e7(_0x37c01a, _0x1e5e43);
}
const rca_zpro_1 = __importDefault(require(_0x3f0970(0x1c9) + _0x3f0970(0x1dd) + _0x3f0970(0x1ff))), MessageZPRO_1 = __importDefault(require(_0x3f0970(0x1e8) + _0x3f0970(0x1e0) + _0x3f0970(0x1fb))), MessageOffLineZPRO_1 = __importDefault(require(_0x3f0970(0x1e8) + _0x3f0970(0x1e0) + _0x3f0970(0x1f8) + 'O')), TicketZPRO_1 = __importDefault(require(_0x3f0970(0x1e8) + _0x3f0970(0x215) + _0x3f0970(0x213))), ShowTicketServiceZPRO_1 = __importDefault(require(_0x3f0970(0x1df) + _0x3f0970(0x1ea) + _0x3f0970(0x1d3) + _0x3f0970(0x1f7))), UserZPRO_1 = __importDefault(require(_0x3f0970(0x1e8) + _0x3f0970(0x1d5) + 'O')), ContactZPRO_1 = __importDefault(require(_0x3f0970(0x1e8) + _0x3f0970(0x208) + _0x3f0970(0x1fb))), ExportMessagesService = ({
        ticketId: _0x82aed2,
        tenantId: _0x364746
    }) => __awaiter(void (-0x1 * -0x114f + 0x1bee + -0x2d3d), void (-0x224 + 0x47 * 0x78 + -0x1f24), void (0x43 * -0x71 + -0x18b9 + -0x22c * -0x19), function* () {
        const _0x16e0dc = _0x3f0970, _0x4ff194 = {};
        _0x4ff194[_0x16e0dc(0x1dc)] = _0x16e0dc(0x1e7) + _0x16e0dc(0x1fc) + '26', _0x4ff194[_0x16e0dc(0x1f0)] = _0x16e0dc(0x210), _0x4ff194[_0x16e0dc(0x1f4)] = _0x16e0dc(0x1cf), _0x4ff194[_0x16e0dc(0x1e5)] = _0x16e0dc(0x211), _0x4ff194[_0x16e0dc(0x1eb)] = _0x16e0dc(0x1e2), _0x4ff194[_0x16e0dc(0x1da)] = _0x16e0dc(0x1db) + _0x16e0dc(0x1f3), _0x4ff194[_0x16e0dc(0x20c)] = _0x16e0dc(0x1cd), _0x4ff194[_0x16e0dc(0x1cc)] = _0x16e0dc(0x202), _0x4ff194[_0x16e0dc(0x1ef)] = _0x16e0dc(0x20e), _0x4ff194[_0x16e0dc(0x203)] = _0x16e0dc(0x1e6), _0x4ff194[_0x16e0dc(0x1c8)] = _0x16e0dc(0x1f9), _0x4ff194[_0x16e0dc(0x209)] = _0x16e0dc(0x1fa);
        const _0x1bfce9 = _0x4ff194, _0x1325d5 = {};
        _0x1325d5['id'] = _0x82aed2, _0x1325d5[_0x16e0dc(0x205)] = _0x364746;
        const _0x34e14c = yield (-0xeea + -0x23f2 * 0x1 + -0x46 * -0xba, ShowTicketServiceZPRO_1[_0x16e0dc(0x1c6)])(_0x1325d5);
        if (!_0x34e14c)
            throw new rca_zpro_1[(_0x16e0dc(0x1c6))](_0x1bfce9[_0x16e0dc(0x1dc)], -0xf0c + 0x6af + -0x1 * -0x9f1);
        const _0x5eb0f1 = {};
        _0x5eb0f1[_0x16e0dc(0x206)] = _0x82aed2, _0x5eb0f1[_0x16e0dc(0x205)] = _0x364746;
        const {
                count: _0x514749,
                rows: _0x437868
            } = yield MessageZPRO_1[_0x16e0dc(0x1c6)][_0x16e0dc(0x1ee) + _0x16e0dc(0x1e9)]({
                'where': _0x5eb0f1,
                'include': [
                    _0x1bfce9[_0x16e0dc(0x1f0)],
                    {
                        'model': MessageZPRO_1[_0x16e0dc(0x1c6)],
                        'as': _0x1bfce9[_0x16e0dc(0x1f4)],
                        'include': [{
                                'model': ContactZPRO_1[_0x16e0dc(0x1c6)],
                                'as': _0x1bfce9[_0x16e0dc(0x1f0)],
                                'attributes': [
                                    'id',
                                    _0x1bfce9[_0x16e0dc(0x1e5)],
                                    _0x1bfce9[_0x16e0dc(0x1eb)],
                                    _0x1bfce9[_0x16e0dc(0x1da)]
                                ]
                            }]
                    },
                    {
                        'model': TicketZPRO_1[_0x16e0dc(0x1c6)],
                        'attributes': [
                            'id',
                            _0x1bfce9[_0x16e0dc(0x20c)],
                            _0x1bfce9[_0x16e0dc(0x1cc)],
                            _0x1bfce9[_0x16e0dc(0x1ef)]
                        ],
                        'include': [{
                                'model': UserZPRO_1[_0x16e0dc(0x1c6)],
                                'as': _0x1bfce9[_0x16e0dc(0x203)],
                                'attributes': [
                                    'id',
                                    _0x1bfce9[_0x16e0dc(0x1e5)]
                                ]
                            }]
                    },
                    {
                        'model': UserZPRO_1[_0x16e0dc(0x1c6)],
                        'attributes': [_0x1bfce9[_0x16e0dc(0x1e5)]]
                    }
                ],
                'order': [[
                        _0x1bfce9[_0x16e0dc(0x1c8)],
                        _0x1bfce9[_0x16e0dc(0x209)]
                    ]]
            }), _0x58947d = {};
        _0x58947d[_0x16e0dc(0x206)] = _0x82aed2;
        const _0x5b228d = {};
        _0x5b228d[_0x16e0dc(0x1e4)] = _0x58947d, _0x5b228d[_0x16e0dc(0x1c7)] = [
            _0x1bfce9[_0x16e0dc(0x1f0)],
            {
                'model': MessageZPRO_1[_0x16e0dc(0x1c6)],
                'as': _0x1bfce9[_0x16e0dc(0x1f4)],
                'include': [_0x1bfce9[_0x16e0dc(0x1f0)]]
            }
        ], _0x5b228d[_0x16e0dc(0x1d0)] = [[
                _0x1bfce9[_0x16e0dc(0x1c8)],
                _0x1bfce9[_0x16e0dc(0x209)]
            ]];
        const {rows: _0x5462dd} = yield MessageOffLineZPRO_1[_0x16e0dc(0x1c6)][_0x16e0dc(0x1ee) + _0x16e0dc(0x1e9)](_0x5b228d);
        return {
            'messages': _0x437868[_0x16e0dc(0x1d6)](),
            'messagesOffLine': _0x5462dd,
            'ticket': _0x34e14c,
            'count': _0x514749
        };
    });
exports[_0x3f0970(0x1c6)] = ExportMessagesService;