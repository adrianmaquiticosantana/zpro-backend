'use strict';
function _0x5d65() {
    const _0xe9c6b9 = [
        '7faGmKA',
        'create',
        '../../bz7a',
        'tenantId',
        'CoZXM',
        'YyAEr',
        'uICms',
        'ticket:upd',
        '__importDe',
        'PGevs',
        'kt9b0_zpro',
        '2ccbQnu',
        'qn_zpro/ix',
        'info',
        'howContact',
        'cket\x20',
        'update',
        'where',
        'erty',
        'vem_zpro',
        'userId',
        '../../tpy7',
        'Services/S',
        'viceZPRO',
        '__awaiter',
        'qTSoW',
        'fault',
        'pending',
        'attributes',
        'etServiceZ',
        'type',
        'whatsappId',
        'RfWfB',
        'rkpbY',
        'eived:\x20',
        'ticket',
        'eReceived',
        'jxHSz',
        './CreateLo',
        'voHvX',
        '../../eb9h',
        'mw_zpro/tv',
        'lastMessag',
        'hSflF',
        '777170mfSjiY',
        'cYSMK',
        'gTicketSer',
        'RXMGo',
        '1860600IpVedk',
        '\x20to\x20new\x20ti',
        ':\x20Copied\x20l',
        'sequelize',
        'done',
        'TGcyz',
        '../../mode',
        'bp8dlkc2o_',
        'next',
        'default',
        'findOne',
        '435608CnvrxH',
        'pying\x20last',
        '52k_zpro/x',
        ':\x20Error\x20co',
        'ServiceZPR',
        'ticketId',
        'then',
        'includes',
        'DESC',
        'contactId',
        'astMessage',
        'jPZlE',
        'ls/TicketZ',
        'NG_TICKET',
        'eedCU',
        'PRO',
        '1624068iOZhGh',
        'rom\x20ticket',
        'error',
        'getTime',
        'waba',
        'value',
        'open',
        'zpro',
        '444291poXXge',
        'payload',
        'mSmNI',
        '7tljfp_zpr',
        'pro',
        '../../7o3q',
        'ex6j6nei_z',
        'defineProp',
        './ShowTick',
        'Onpor',
        'kpCFQ',
        '6ybkyXo',
        ':::\x20Z-PRO\x20',
        ':::\x20ZDG\x20::',
        '268372TeeioK',
        'o/6gb8ypf_',
        'apply',
        'HYveJ',
        'SKzMw',
        '../Contact',
        'NHmcT',
        'ERR_CREATI',
        '/rca_zpro',
        'throw',
        'channel',
        'logger',
        'hkdLm',
        '630510gRXkFf',
        'MessageRec',
        '$create',
        '__esModule',
        'hub',
        'ate',
        'Received\x20f',
        'teUbD',
        '../../974u',
        'order',
        'ZCMzu'
    ];
    _0x5d65 = function () {
        return _0xe9c6b9;
    };
    return _0x5d65();
}
const _0x6e3ed5 = _0x1f76;
function _0x1f76(_0x33fcbb, _0xc3e535) {
    const _0x11bbd8 = _0x5d65();
    return _0x1f76 = function (_0x2ef62c, _0x5dfab0) {
        _0x2ef62c = _0x2ef62c - (-0xe * 0x2d + -0xf3 * 0x17 + 0x1965);
        let _0x419b0b = _0x11bbd8[_0x2ef62c];
        return _0x419b0b;
    }, _0x1f76(_0x33fcbb, _0xc3e535);
}
(function (_0xa4ecde, _0x2c2274) {
    const _0x426dbb = _0x1f76, _0x225f71 = _0xa4ecde();
    while (!![]) {
        try {
            const _0x4ee953 = parseInt(_0x426dbb(0x14b)) / (0x124 * -0x2 + 0x25da + -0xf * 0x25f) + -parseInt(_0x426dbb(0x16e)) / (0x184 + 0xcdb * 0x3 + -0x2813) * (parseInt(_0x426dbb(0x13d)) / (0x529 + -0x58a * 0x2 + -0x8a * -0xb)) + -parseInt(_0x426dbb(0x125)) / (-0xe9f + 0x43 * 0x81 + -0x24 * 0x88) + -parseInt(_0x426dbb(0x158)) / (0x25 * 0x22 + 0x1 * -0x236c + 0x1e87 * 0x1) * (-parseInt(_0x426dbb(0x148)) / (-0x1 * -0x60d + 0x90 * 0x1c + -0x15c7)) + -parseInt(_0x426dbb(0x163)) / (-0x2 * 0x111e + -0x1372 + 0x11e7 * 0x3) * (parseInt(_0x426dbb(0x11a)) / (0x7 * -0x325 + -0x18 * -0x90 + 0x88b)) + parseInt(_0x426dbb(0x135)) / (-0x67 * -0x4f + -0x1ed2 + -0x77 * 0x2) + parseInt(_0x426dbb(0x18f)) / (0xfb * 0x5 + -0x2056 + 0x1b79);
            if (_0x4ee953 === _0x2c2274)
                break;
            else
                _0x225f71['push'](_0x225f71['shift']());
        } catch (_0x5b3ae2) {
            _0x225f71['push'](_0x225f71['shift']());
        }
    }
}(_0x5d65, 0x215df + -0xf5 * 0x331 + 0x37503));
var __awaiter = this && this[_0x6e3ed5(0x17b)] || function (_0x41f71c, _0x52e91e, _0x56e313, _0x43f23d) {
        const _0x42a51d = _0x6e3ed5, _0x2e7725 = {
                'ZCMzu': function (_0x3d474f, _0x52a052) {
                    return _0x3d474f(_0x52a052);
                },
                'teUbD': function (_0x296286, _0x127bc7) {
                    return _0x296286 instanceof _0x127bc7;
                },
                'SKzMw': function (_0x49531f, _0x1b837c) {
                    return _0x49531f(_0x1b837c);
                },
                'qTSoW': function (_0x42bf36, _0x588ea0) {
                    return _0x42bf36(_0x588ea0);
                },
                'voHvX': _0x42a51d(0x154),
                'YyAEr': function (_0xafb7c7, _0x3bf379) {
                    return _0xafb7c7(_0x3bf379);
                }
            };
        function _0xb8aefb(_0x12d129) {
            const _0x5775f5 = _0x42a51d;
            return _0x2e7725[_0x5775f5(0x15f)](_0x12d129, _0x56e313) ? _0x12d129 : new _0x56e313(function (_0x3ebc96) {
                const _0x552e12 = _0x5775f5;
                _0x2e7725[_0x552e12(0x162)](_0x3ebc96, _0x12d129);
            });
        }
        return new (_0x56e313 || (_0x56e313 = Promise))(function (_0x17a9a1, _0x48e48b) {
            const _0x4808af = _0x42a51d, _0x58bc6a = {
                    'Onpor': function (_0xe566b9, _0x4d5a0f) {
                        const _0x294f0d = _0x1f76;
                        return _0x2e7725[_0x294f0d(0x17c)](_0xe566b9, _0x4d5a0f);
                    },
                    'TGcyz': function (_0x1f45f1, _0x42fcc1) {
                        const _0x2e978b = _0x1f76;
                        return _0x2e7725[_0x2e978b(0x17c)](_0x1f45f1, _0x42fcc1);
                    },
                    'jxHSz': function (_0x56d5f1, _0x2c608e) {
                        const _0x1f14bb = _0x1f76;
                        return _0x2e7725[_0x1f14bb(0x162)](_0x56d5f1, _0x2c608e);
                    },
                    'hkdLm': _0x2e7725[_0x4808af(0x18a)],
                    'PGevs': function (_0x97d707, _0x27413c) {
                        const _0x39f2b4 = _0x4808af;
                        return _0x2e7725[_0x39f2b4(0x162)](_0x97d707, _0x27413c);
                    }
                };
            function _0x268749(_0x2a6c73) {
                const _0x3434d8 = _0x4808af;
                try {
                    _0x58bc6a[_0x3434d8(0x146)](_0x290060, _0x43f23d[_0x3434d8(0x122)](_0x2a6c73));
                } catch (_0x17af91) {
                    _0x58bc6a[_0x3434d8(0x11f)](_0x48e48b, _0x17af91);
                }
            }
            function _0x3db9fd(_0x47429a) {
                const _0xdfb8bb = _0x4808af;
                try {
                    _0x58bc6a[_0xdfb8bb(0x188)](_0x290060, _0x43f23d[_0x58bc6a[_0xdfb8bb(0x157)]](_0x47429a));
                } catch (_0xa2ba81) {
                    _0x58bc6a[_0xdfb8bb(0x16c)](_0x48e48b, _0xa2ba81);
                }
            }
            function _0x290060(_0x2b4193) {
                const _0x1bdbe5 = _0x4808af;
                _0x2b4193[_0x1bdbe5(0x11e)] ? _0x2e7725[_0x1bdbe5(0x14f)](_0x17a9a1, _0x2b4193[_0x1bdbe5(0x13a)]) : _0x2e7725[_0x1bdbe5(0x162)](_0xb8aefb, _0x2b4193[_0x1bdbe5(0x13a)])[_0x1bdbe5(0x12b)](_0x268749, _0x3db9fd);
            }
            _0x2e7725[_0x4808af(0x168)](_0x290060, (_0x43f23d = _0x43f23d[_0x4808af(0x14d)](_0x41f71c, _0x52e91e || []))[_0x4808af(0x122)]());
        });
    }, __importDefault = this && this[_0x6e3ed5(0x16b) + _0x6e3ed5(0x17d)] || function (_0x57753f) {
        const _0x255c69 = _0x6e3ed5;
        return _0x57753f && _0x57753f[_0x255c69(0x15b)] ? _0x57753f : { 'default': _0x57753f };
    };
const _0x5cba8f = {};
_0x5cba8f[_0x6e3ed5(0x13a)] = !![], Object[_0x6e3ed5(0x144) + _0x6e3ed5(0x175)](exports, _0x6e3ed5(0x15b), _0x5cba8f);
const rca_zpro_1 = __importDefault(require(_0x6e3ed5(0x178) + _0x6e3ed5(0x16d) + _0x6e3ed5(0x153))), xvem_zpro_1 = __importDefault(require(_0x6e3ed5(0x18b) + _0x6e3ed5(0x127) + _0x6e3ed5(0x176))), ixex6j6nei_zpro_1 = __importDefault(require(_0x6e3ed5(0x142) + _0x6e3ed5(0x16f) + _0x6e3ed5(0x143) + _0x6e3ed5(0x141))), _6gb8ypf_zpro_1 = __importDefault(require(_0x6e3ed5(0x160) + _0x6e3ed5(0x140) + _0x6e3ed5(0x14c) + _0x6e3ed5(0x13c))), TicketZPRO_1 = __importDefault(require(_0x6e3ed5(0x120) + _0x6e3ed5(0x131) + _0x6e3ed5(0x134))), ShowContactServiceZPRO_1 = __importDefault(require(_0x6e3ed5(0x150) + _0x6e3ed5(0x179) + _0x6e3ed5(0x171) + _0x6e3ed5(0x129) + 'O')), CreateLogTicketServiceZPRO_1 = __importDefault(require(_0x6e3ed5(0x189) + _0x6e3ed5(0x191) + _0x6e3ed5(0x17a))), ShowTicketServiceZPRO_1 = __importDefault(require(_0x6e3ed5(0x145) + _0x6e3ed5(0x180) + _0x6e3ed5(0x134))), sequelize_1 = require(_0x6e3ed5(0x11d)), tvbp8dlkc2o_zpro_1 = require(_0x6e3ed5(0x165) + _0x6e3ed5(0x18c) + _0x6e3ed5(0x121) + _0x6e3ed5(0x13c)), CreateTicketService = ({
        contactId: _0x19b4eb,
        status: _0x515119,
        userId: _0x33906b,
        tenantId: _0xd72125,
        channel: _0x399500,
        channelId: channelId = undefined
    }) => __awaiter(void (0x1120 + -0xeaa * 0x1 + -0x276), void (0x161f + 0x5f1 * -0x4 + 0x1 * 0x1a5), void (0x8a8 + 0x377 * -0x2 + 0x22 * -0xd), function* () {
        const _0x37a9df = _0x6e3ed5, _0x1a25d1 = {};
        _0x1a25d1[_0x37a9df(0x169)] = function (_0x349257, _0x587fe0) {
            return _0x349257 === _0x587fe0;
        }, _0x1a25d1[_0x37a9df(0x14e)] = _0x37a9df(0x13b), _0x1a25d1[_0x37a9df(0x151)] = function (_0x4b24e2, _0x4481ff) {
            return _0x4b24e2 === _0x4481ff;
        }, _0x1a25d1[_0x37a9df(0x192)] = _0x37a9df(0x17e), _0x1a25d1[_0x37a9df(0x133)] = _0x37a9df(0x186), _0x1a25d1[_0x37a9df(0x13f)] = function (_0x557fb3, _0x3cd29d) {
            return _0x557fb3 === _0x3cd29d;
        }, _0x1a25d1[_0x37a9df(0x184)] = _0x37a9df(0x139), _0x1a25d1[_0x37a9df(0x147)] = _0x37a9df(0x15c), _0x1a25d1[_0x37a9df(0x190)] = _0x37a9df(0x18d) + _0x37a9df(0x187), _0x1a25d1[_0x37a9df(0x167)] = _0x37a9df(0x12d), _0x1a25d1[_0x37a9df(0x183)] = _0x37a9df(0x152) + _0x37a9df(0x132), _0x1a25d1[_0x37a9df(0x130)] = _0x37a9df(0x164), _0x1a25d1[_0x37a9df(0x18e)] = _0x37a9df(0x16a) + _0x37a9df(0x15d);
        const _0x4d18c3 = _0x1a25d1, _0x569c8d = yield (-0x5 * 0x412 + -0xee6 + -0x20 * -0x11a, ixex6j6nei_zpro_1[_0x37a9df(0x123)])(_0xd72125, channelId);
        if (_0x4d18c3[_0x37a9df(0x169)](_0x515119, _0x4d18c3[_0x37a9df(0x14e)]) || _0x4d18c3[_0x37a9df(0x151)](_0x515119, _0x4d18c3[_0x37a9df(0x192)]))
            yield (0xe * 0x1db + 0x8dd * -0x4 + 0x97a, xvem_zpro_1[_0x37a9df(0x123)])(_0x19b4eb, channelId);
        const _0x332bed = {};
        _0x332bed['id'] = _0x19b4eb, _0x332bed[_0x37a9df(0x166)] = _0xd72125;
        const {isGroup: _0x55ec8d} = yield (0x3e * 0x2e + 0x1a6 + -0xcca, ShowContactServiceZPRO_1[_0x37a9df(0x123)])(_0x332bed), {id: _0x1c1163} = yield _0x569c8d[_0x37a9df(0x15a)](_0x4d18c3[_0x37a9df(0x133)], {
                'contactId': _0x19b4eb,
                'status': _0x515119,
                'isGroup': _0x55ec8d,
                'userId': _0x33906b,
                'isActiveDemand': !![],
                'channel': _0x399500,
                'tenantId': _0xd72125,
                'lastMessageAt': new Date()[_0x37a9df(0x138)]()
            }), _0x116ef5 = {};
        _0x116ef5['id'] = _0x1c1163, _0x116ef5[_0x37a9df(0x166)] = _0xd72125;
        const _0x5b8bd6 = yield (0x226 + 0x5dc + 0x29 * -0x32, ShowTicketServiceZPRO_1[_0x37a9df(0x123)])(_0x116ef5);
        if (_0x4d18c3[_0x37a9df(0x13f)](_0x5b8bd6[_0x37a9df(0x155)], _0x4d18c3[_0x37a9df(0x184)]) || _0x5b8bd6[_0x37a9df(0x155)][_0x37a9df(0x12c)](_0x4d18c3[_0x37a9df(0x147)]))
            try {
                const _0xe3ceb = {};
                _0xe3ceb[_0x37a9df(0x12e)] = _0x5b8bd6[_0x37a9df(0x12e)], _0xe3ceb[_0x37a9df(0x166)] = _0x5b8bd6[_0x37a9df(0x166)], _0xe3ceb[_0x37a9df(0x182)] = _0x5b8bd6[_0x37a9df(0x182)], _0xe3ceb['id'] = { [sequelize_1['Op']['ne']]: _0x5b8bd6['id'] }, _0xe3ceb[_0x37a9df(0x18d) + _0x37a9df(0x187)] = { [sequelize_1['Op']['ne']]: null };
                const _0x2f439f = {};
                _0x2f439f[_0x37a9df(0x174)] = _0xe3ceb, _0x2f439f[_0x37a9df(0x161)] = [[
                        _0x4d18c3[_0x37a9df(0x190)],
                        _0x4d18c3[_0x37a9df(0x167)]
                    ]], _0x2f439f[_0x37a9df(0x17f)] = [
                    'id',
                    _0x4d18c3[_0x37a9df(0x190)]
                ];
                const _0x4a9a9a = yield TicketZPRO_1[_0x37a9df(0x123)][_0x37a9df(0x124)](_0x2f439f);
                if (_0x4a9a9a && _0x4a9a9a[_0x37a9df(0x18d) + _0x37a9df(0x187)]) {
                    const _0x2f270d = {};
                    _0x2f270d[_0x37a9df(0x18d) + _0x37a9df(0x187)] = _0x4a9a9a[_0x37a9df(0x18d) + _0x37a9df(0x187)], yield _0x5b8bd6[_0x37a9df(0x173)](_0x2f270d), tvbp8dlkc2o_zpro_1[_0x37a9df(0x156)][_0x37a9df(0x170)](_0x37a9df(0x149) + _0x37a9df(0x14a) + _0x37a9df(0x11c) + _0x37a9df(0x12f) + _0x37a9df(0x15e) + _0x37a9df(0x136) + '\x20' + _0x4a9a9a['id'] + (_0x37a9df(0x11b) + _0x37a9df(0x172)) + _0x5b8bd6['id']);
                }
            } catch (_0x4154d6) {
                tvbp8dlkc2o_zpro_1[_0x37a9df(0x156)][_0x37a9df(0x137)](_0x37a9df(0x149) + _0x37a9df(0x14a) + _0x37a9df(0x128) + _0x37a9df(0x126) + _0x37a9df(0x159) + _0x37a9df(0x185) + _0x4154d6);
            }
        if (!_0x5b8bd6)
            throw new rca_zpro_1[(_0x37a9df(0x123))](_0x4d18c3[_0x37a9df(0x183)]);
        const _0x4cdca5 = {};
        _0x4cdca5[_0x37a9df(0x177)] = _0x33906b, _0x4cdca5[_0x37a9df(0x166)] = _0x5b8bd6[_0x37a9df(0x166)], _0x4cdca5[_0x37a9df(0x12a)] = _0x5b8bd6['id'], _0x4cdca5[_0x37a9df(0x181)] = _0x4d18c3[_0x37a9df(0x130)], yield (0x2 * -0xd5 + -0x488 + -0x632 * -0x1, CreateLogTicketServiceZPRO_1[_0x37a9df(0x123)])(_0x4cdca5);
        const _0x27b370 = {};
        return _0x27b370[_0x37a9df(0x166)] = _0xd72125, _0x27b370[_0x37a9df(0x181)] = _0x4d18c3[_0x37a9df(0x18e)], _0x27b370[_0x37a9df(0x13e)] = _0x5b8bd6, (-0x589 * -0x5 + -0xa0e + -0x119f * 0x1, _6gb8ypf_zpro_1[_0x37a9df(0x123)])(_0x27b370), _0x5b8bd6;
    });
exports[_0x6e3ed5(0x123)] = CreateTicketService;